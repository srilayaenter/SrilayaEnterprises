# Srilaya Enterprises Organic Store Requirements Document

## 1. Website Overview

### 1.1 Website Name
Srilaya Enterprises Organic Store

### 1.2 Website Description
An e-commerce platform dedicated to selling organic products including millets, rice, flakes, flour, honey, and related items. The website targets health-conscious individuals and families seeking ready-to-cook organic items with convenient packaging options. The platform supports both online orders with delivery and direct in-store purchases.

### 1.3 Target Audience
- Health-conscious individuals\n- Families looking for organic food options
- Local organic food buyers
- Customers seeking ready-to-cook essential items
\n## 2. Product Categories and Specifications

### 2.1 Product Categories
- Rice\n- Flour
- Flakes
- Millets
- Honey
- Custom categories (admin can add new categories)

### 2.2 Pricing Structure
\n**Selling Price Calculation:**
Selling Price = Cost Price +25%

**Package-Based Discount Policy:**
- **Standard Products (Rice, Flour, Flakes, Millets):**
  + 1kg package: No discount
  + 2kg package: No discount
  + 5kg package: 2% discount
  + 10kg package: 3% discount
\n- **Honey Products:**
  + 200g package: No discount
  + 500g package: 2% discount
  + 1kg package: 3% discount
\n### 2.3 Product List with Updated Pricing (All prices in Indian Rupees)

#### Rice Category
- RICE001: Parboiled rice - Cost: ₹72/kg, Selling: ₹90/kg, GST: 4.5%, Final (1kg): ₹94.5/kg
- RICE002: Mapillai samba - Cost: ₹75/kg, Selling: ₹93.75/kg, GST: 4.69%, Final (1kg): ₹98.44/kg
- RICE003: Poongar rice - Cost: ₹57/kg, Selling: ₹71.25/kg, GST: 3.56%, Final (1kg): ₹74.81/kg
- RICE004: Tooyamalli rice - Cost: ₹64/kg, Selling: ₹80/kg, GST: 4%, Final (1kg): ₹84/kg
- RICE005: Karupukavuni - Cost: ₹145/kg, Selling: ₹181.25/kg, GST: 9.06%, Final (1kg): ₹190.31/kg
- RICE006: White Ponni - Cost: ₹71/kg, Selling: ₹88.75/kg, GST: 4.44%, Final (1kg): ₹93.19/kg
\n#### Flour Category
- FLOUR001: Foxtail flour - Cost: ₹67/kg, Selling: ₹83.75/kg, GST: 4.19%, Final (1kg): ₹87.94/kg
- FLOUR002: Little flour - Cost: ₹67/kg, Selling: ₹83.75/kg, GST: 4.19%, Final (1kg): ₹87.94/kg
- FLOUR003: Browntop flour - Cost: ₹67/kg, Selling: ₹83.75/kg, GST: 4.19%, Final (1kg): ₹87.94/kg
- FLOUR004: Barnyard flour - Cost: ₹67/kg, Selling: ₹83.75/kg, GST: 4.19%, Final (1kg): ₹87.94/kg
- FLOUR005: Ragi flour - Cost: ₹43/kg, Selling: ₹53.75/kg, GST: 2.69%, Final (1kg): ₹56.44/kg
- FLOUR006: Natty Pearl flour - Cost: ₹57/kg, Selling: ₹71.25/kg, GST: 3.56%, Final (1kg): ₹74.81/kg
- FLOUR007: I Pearl flour - Cost: ₹45/kg, Selling: ₹56.25/kg, GST: 2.81%, Final (1kg): ₹59.06/kg
- FLOUR008: Sorghum flour - Cost: ₹47/kg, Selling: ₹58.75/kg, GST: 2.94%, Final (1kg): ₹61.69/kg
- FLOUR009: Proso flour - Cost: ₹55/kg, Selling: ₹68.75/kg, GST: 3.44%, Final (1kg): ₹72.19/kg
- FLOUR010: Millet flour (From broken millet rice) - Cost: ₹45/kg, Selling: ₹56.25/kg, GST: 2.81%, Final (1kg): ₹59.06/kg
\n#### Flakes Category
- FLAKES001: Foxtail flakes - Cost: ₹100/kg, Selling: ₹125/kg, GST: 6.25%, Final (1kg): ₹131.25/kg
- FLAKES002: Little flakes - Cost: ₹110/kg, Selling: ₹137.5/kg, GST: 6.88%, Final (1kg): ₹144.38/kg
- FLAKES003: Kodo flakes - Cost: ₹102/kg, Selling: ₹127.5/kg, GST: 6.38%, Final (1kg): ₹133.88/kg
- FLAKES004: Barnyard flakes - Cost: ₹112/kg, Selling: ₹140/kg, GST: 7%, Final (1kg): ₹147/kg
- FLAKES005: Ragi flakes - Cost: ₹68/kg, Selling: ₹85/kg, GST: 4.25%, Final (1kg): ₹89.25/kg
- FLAKES006: Pearl flakes - Cost: ₹69/kg, Selling: ₹86.25/kg, GST: 4.31%, Final (1kg): ₹90.56/kg
- FLAKES007: Sorghum flakes - Cost: ₹69/kg, Selling: ₹86.25/kg, GST: 4.31%, Final (1kg): ₹90.56/kg
\n#### Millets Category
- MILLETS001: Foxtail rice - Cost: ₹66/kg, Selling: ₹82.5/kg, GST: 4.13%, Final (1kg): ₹86.63/kg
- MILLETS002: Little rice - Cost: ₹90/kg, Selling: ₹112.5/kg, GST: 5.63%, Final (1kg): ₹118.13/kg
- MILLETS003: Kodo rice - Cost: ₹67/kg, Selling: ₹83.75/kg, GST: 4.19%, Final (1kg): ₹87.94/kg
- MILLETS004: Barnyard rice - Cost: ₹102/kg, Selling: ₹127.5/kg, GST: 6.38%, Final (1kg): ₹133.88/kg
- MILLETS005: Browntop rice - Cost: ₹79/kg, Selling: ₹98.75/kg, GST: 4.94%, Final (1kg): ₹103.69/kg
- MILLETS006: Proso rice - Cost: ₹84/kg, Selling: ₹105/kg, GST: 5.25%, Final (1kg): ₹110.25/kg
- MILLETS007: Ragi - Cost: ₹43/kg, Selling: ₹53.75/kg, GST: 2.69%, Final (1kg): ₹56.44/kg
- MILLETS008: Native Pearl - Cost: ₹55/kg, Selling: ₹68.75/kg, GST: 3.44%, Final (1kg): ₹72.19/kg
- MILLETS009: I Pearl - Cost: ₹38/kg, Selling: ₹47.5/kg, GST: 2.38%, Final (1kg): ₹49.88/kg
- MILLETS010: Sorghum (white) - Cost: ₹55/kg, Selling: ₹68.75/kg, GST: 3.44%, Final (1kg): ₹72.19/kg
- MILLETS011: Sorghum (Red) - Cost: ₹56/kg, Selling: ₹70/kg, GST: 3.5%, Final (1kg): ₹73.5/kg
\n#### Honey Category
- HONEY001: Cave Black Honey - Cost: ₹665/kg, Selling: ₹831.25/kg, GST: 41.56%, Final (200g): ₹872.81/kg
- HONEY002: Siru Honey - Cost: ₹665/kg, Selling: ₹831.25/kg, GST: 41.56%, Final (200g): ₹872.81/kg
- HONEY003: Kombu Honey - Cost: ₹665/kg, Selling: ₹831.25/kg, GST: 41.56%, Final (200g): ₹872.81/kg
- HONEY004: Honey&Fig - Cost: ₹665/kg, Selling: ₹831.25/kg, GST: 41.56%, Final (200g): ₹872.81/kg
- HONEY005: Honey&Amla - Cost: ₹665/kg, Selling: ₹831.25/kg, GST: 41.56%, Final (200g): ₹872.81/kg
- HONEY006: Rose Petals Honey - Cost: ₹765/kg, Selling: ₹956.25/kg, GST: 47.81%, Final (200g): ₹1004.06/kg
\n### 2.4 Packaging Options
- Standard categories (Millets, Rice, Flakes, Flour): 1kg, 2kg, 5kg, 10kg\n- Honey: 200g, 500g, 1kg\n\n### 2.5 Product Structure
Each category contains multiple product variants with different packaging options and pricing as listed above.

## 3. Core Features

### 3.1 Product Catalog
- Product listing with images and descriptions
- Main navigation menu displaying all categories including custom categories
- Search functionality\n- Filter options by category, price, packaging size\n- Product detail pages with specifications and pricing information

### 3.2 Shopping Cart and Checkout Process
- Add to cart functionality with quantity selection
- Cart summary showing items, quantities, and total price
- Ability to update or remove items from cart
- **Order Type Selection:** Checkbox to select order type (Online Order / In-Store Purchase)
- Checkout process with order summary and final price calculation including GST and package discounts
- **For Online Orders:** Delivery address input and validation, shipping charges calculation
- **For In-Store Purchases:** No delivery address or shipping charges required

### 3.3 User Registration, Login, and Profile Management
- User registration with email and password
- Secure login system\n- User profile management including personal information and delivery addresses
- Password reset functionality
\n### 3.4 Payment Gateway Integration
- Secure payment gateway integration supporting multiple payment methods
- Support for credit/debit cards, UPI, net banking, and digital wallets
- Payment confirmation and receipt generation
\n### 3.5 Order Tracking and History
- Order confirmation with unique order ID
- **Order Type Indicator:** Display whether order is Online Order or In-Store Purchase
- **For Online Orders:** Real-time order status tracking (Order Placed, Processing, Shipped, Delivered)
- **For In-Store Purchases:** Status shows as Completed immediately after payment
- Order history viewing with details of past purchases, separated by order type
- Order invoice download option

### 3.6 Invoice Generation with Shipping Cost Calculation
- Automatic invoice generation upon order confirmation
- Invoice includes order details, product list, quantities, prices, GST breakdown, package discount percentage\n- **Order Type Display:** Invoice clearly indicates whether it is an Online Order or In-Store Purchase\n- **For Online Orders:**
  + **Weight-based shipping cost calculation:**
    * **Intrastate delivery (same city and state):** ₹30-50 per kg
    * **Interstate delivery:** ₹70-100 per kg
  + **Delivery location detection:** System identifies whether delivery address is within the same state or interstate to apply appropriate shipping rates
  + Invoice displays: subtotal, package discount (with percentage), GST, shipping charges (calculated based on total order weight and delivery location), and grand total
- **For In-Store Purchases:**
  + No shipping charges applied
  + Invoice displays: subtotal, package discount (with percentage), GST, and grand total
- **Invoice line item display:** Each product line shows base price, applicable discount percentage (if any), discounted price, GST, and final price

### 3.7 Loyalty Points System (Priority3- Implement Third)\n\n**Purpose:** Encourages repeat purchases and builds long-term customer retention with measurable revenue impact over time.

####3.7.1 Points Earning Mechanism
- Customers earn 1 loyalty point for every ₹100 spent on purchases
- Points are credited to customer account after order completion
- Bonus points for first purchase, referrals, and special promotions
- Points accumulation displayed in user profile dashboard

#### 3.7.2 Points Redemption\n- Customers can redeem points during checkout\n- Redemption rate: 100 points = ₹10 discount
- Minimum redemption threshold: 500 points
- Maximum redemption per order: 50% of order value
- Points balance updated in real-time after redemption

#### 3.7.3 Points History and Tracking
- Detailed transaction history showing points earned and redeemed
- Display columns: Date, Transaction Type (Earned/Redeemed), Order ID, Points, Balance
- Filter options by date range and transaction type
- Points expiry notification (points valid for 12 months from earning date)

#### 3.7.4 Loyalty Tier System
- Bronze Tier: 0-999 points (1x earning rate)
- Silver Tier: 1000-2499 points (1.2x earning rate)
- Gold Tier: 2500+ points (1.5x earning rate)
- Tier benefits displayed in user profile
- Tier upgrade notifications

### 3.8 Notification System (Priority 2 - Implement Second)
\n**Purpose:** Keeps customers informed and improves customer satisfaction while reducing support queries.

#### 3.8.1 Core Notification Types
- **Order status notifications:** Order Placed, Processing, Shipped, Delivered (email + in-app)
- **Payment confirmations:** Successful payment receipt and transaction details (email + in-app)
- Promotional offers and discounts\n- Low stock alerts for wishlist items
- Account security alerts
\n#### 3.8.2 Notification Delivery Channels
- **In-app notifications:** Notification center with badge counter in header
- **Email notifications:** Automated emails for order status and payment confirmations
\n#### 3.8.3 Basic Notification Center
- Centralized notification panel accessible from header icon
- Notification list with timestamp and read/unread status
- Mark as read/unread functionality
- Delete individual notifications
- Filter by notification type (Orders, Payments, Promotions, Account)

#### 3.8.4 Real-time Notifications
- Push notifications for order status updates
- Visual alerts for new notifications
- Auto-refresh notification count without page reload
\n### 3.9 Customer Support Chat System (Priority 2 - Implement Second)
\n**Purpose:** Reduces support burden and directly impacts customer service quality.

#### 3.9.1 Live Chat Widget
- Floating chat icon visible on all pages (bottom-right corner)
- Click to expand chat window
- Minimizable and closable chat interface
- Unread message badge indicator
\n#### 3.9.2 Real-time Messaging
- Real-time messaging between customer and support staff
- Typing indicators showing when support agent is typing
- Quick reply templates for common queries
- Emoji support for friendly communication

#### 3.9.3 Chat History\n- Access to previous chat conversations in user profile
- Search functionality within chat history
- Download chat transcript option
\n#### 3.9.4 Chat Availability
- Display support hours (e.g., Mon-Sat9AM-6PM)
- Offline message form when support is unavailable
- Auto-reply with expected response time

#### 3.9.5 Admin Chat Management
- Admin dashboard for managing customer chat requests
- Queue management with priority assignment
- Assign chats to specific support staff
- Canned responses library for quick replies

### 3.10 Product Review and Rating System\n
**System Overview and Business Impact:**
The Product Review and Rating System is a critical trust-building feature that directly drives sales conversion rates. By enabling customers to share authentic experiences and rate products, this system creates social proof that significantly influences purchase decisions. Research shows that products with customer reviews can increase conversion rates by up to 270%, making this feature essential for building customer confidence and driving revenue growth. The system combines star ratings, written reviews, and photo uploads to provide comprehensive product feedback that helps potential buyers make informed decisions.

#### 3.10.1 Review Submission\n- Customers can submit reviews after order delivery
- Star rating (1-5 stars) with written review
- Photo upload option (up to 3 images per review)
- Review submission form integrated in Product Detail page
- Verified purchase badge for authenticated reviews
- **Conversion Impact:** Verified purchase badges increase review credibility and boost conversion rates by building trust with potential buyers

#### 3.10.2 Review Display on Product Detail Page
- Average rating score with star visualization
- Total review count
- Rating distribution chart (5-star to 1-star breakdown)
- Review list with sorting options (Most Recent, Highest Rating, Lowest Rating, Most Helpful)
- Helpful/Not Helpful voting buttons
- Report inappropriate review option
- **Conversion Impact:** Displaying average ratings and review counts prominently on product pages provides immediate social proof that influences purchase decisions. Products with higher ratings and more reviews typically see 20-30% higher conversion rates.\n
#### 3.10.3 Review Moderation\n- Admin approval required before review publication
- Filter and flag system for inappropriate content
- Edit or delete reviews from admin dashboard
- **Quality Control:** Basic moderation workflow ensures only genuine, appropriate reviews are published, maintaining system integrity and customer trust

### 3.11 Updated Header Navigation

#### 3.11.1 Header Components
- Logo and website name (left-aligned)
- Main navigation menu (Categories dropdown, About Us, Contact)\n- Search bar with autocomplete suggestions
- **Notification icon with unread count badge**
- **Loyalty points display showing current balance**
- **Chat widget icon with unread message indicator**
- Shopping cart icon with item count
- User account dropdown (Profile, Orders, Loyalty Points, Notifications, Logout)
\n#### 3.11.2Responsive Design
- Mobile-friendly hamburger menu
- Collapsible navigation for smaller screens
- Touch-optimized icons and buttons
\n### 3.12 Admin Dashboard

#### 3.12.1 Product Management (Implementation Ready with Enhanced Vendor Integration UI and Updated Variant Logic)
\n**Add New Product (Enhanced with Simplified Variant Addition)**
- **Back Button:** Navigate back to Product List page
- **Product ID:** Auto-generated by system using format: [CATEGORY_PREFIX][SEQUENTIAL_NUMBER]
  + System automatically generates Product ID based on selected category\n  + Format examples: RICE001, FLOUR001, FLAKES001, MILLETS001, HONEY001
  + Sequential numbering continues from last product in category
  + For custom categories, system uses first 3-5 letters of category name as prefix
  + Product ID is read-only and displayed after category selection
- Form fields: Product Name, Category (dropdown: Rice/Flour/Flakes/Millets/Honey/Custom Categories - **admin can only select from existing categories, cannot add new categories here**), **Base Cost Price (₹/kg) - entered only once for1kg base**, Selling Price (auto-calculated as Cost Price + 25%), GST percentage\n- **Vendor Selection Section (Enhanced UI):**
  + **Vendor Assignment Dropdown:** Prominent dropdown field labeled 'Select Vendor' positioned directly below Category field
    * Dropdown displays list of all registered vendors with format: [Vendor Name] - [Contact Person]\n    * Search functionality within dropdown for quick vendor lookup
    * Selected vendor's details (Contact Person, Phone, Email) displayed below dropdown in read-only format
    * 'View Vendor Profile' link next to vendor details (opens vendor profile in new tab)
  + **Add New Vendor Option:**
    * 'Add New Vendor' button positioned next to vendor dropdown
    * Clicking button opens inline vendor registration form below the dropdown
    * Inline vendor form fields:\n      - Vendor Name (required)
      - Contact Person (required)
      - Email (required, with validation)
      - Phone Number (required)\n      - Address (required)
      - Product Categories Supplied (auto-filled with current product category, editable)
      - Payment Terms (dropdown: Advance Payment/Payment on Delivery/Credit/Other)
      - GST Number (optional)
    * 'Save Vendor' button: Creates new vendor record and automatically selects it in the vendor dropdown
    * 'Cancel' button: Closes inline form and returns to vendor dropdown selection
  + **Vendor-Product Linking:** System automatically creates association between selected vendor and product upon saving product by storing vendor_id in products table
- Image upload functionality with preview
- **Add Variant Section (Updated Logic):**
  + **Packaging Size Selection:** Dropdown to select packaging size (1kg, 2kg, 5kg, 10kg for standard categories; 200g, 500g, 1kg for honey; custom options for custom categories)
  + **Automatic Weight Calculation:** When packaging size is selected, weight field is automatically populated based on the selected size (e.g., selecting 2kg automatically sets weight to 2kg, selecting 500g sets weight to 0.5kg)
  + **Weight Field:** Read-only field displaying the automatically calculated weight based on selected packaging size\n  + **Discount Percentage Input:** Optional input field for entering discount percentage specific to this variant (e.g., 2% for 5kg, 3% for 10kg)
  + **Initial Stock Quantity Input:** Input field for entering initial stock quantity for this variant
  + **Cost Price Calculation:** System automatically calculates cost price for the variant using the base cost price (₹/kg) entered at product level, multiplied by the variant weight. For example, if base cost price is ₹100/kg and variant is 2kg, cost price for variant = ₹100 × 2 = ₹200
  + **Selling Price Calculation:** System automatically calculates selling price as (Cost Price + 25%) and applies the discount percentage if entered. For example, if cost price is ₹200, selling price before discount = ₹250. If 2% discount is applied, final selling price = ₹250 - (₹250 × 2%) = ₹245
  + **Final Price Display:** Shows the calculated final price including GST for the variant
  + **Add Variant Button:** Saves the variant with selected packaging size, auto-calculated weight, discount percentage, and initial stock quantity
  + **Variant List Display:** Table showing all added variants with columns: Packaging Size, Weight, Discount %, Cost Price, Selling Price, Final Price (with GST), Stock Quantity, Actions (Edit/Delete)
- **Automatic Inventory Update:**
  + Upon saving the product with variants, system automatically creates inventory records for each variant with the specified stock quantities
  + Each variant (packaging size) is tracked independently in the inventory management system
  + Stock levels can be updated later through the Inventory Management section
- Save and Cancel buttons\n- **Post-Save Confirmation:** Success message displays product details and linked vendor information with format: 'Product [Product Name] added successfully. Vendor: [Vendor Name]. Stock updated for selected variants.'
\n**View Product List (Enhanced with Vendor Column)**
- **Back Button:** Navigate back to Admin Dashboard
- **Table display with columns (updated order):**
  + Product ID\n  + Product Name
  + Category
  + **Vendor Name (new column positioned after Category)**
  + Base Cost Price (₹/kg)\n  + Selling Price (₹/kg)
  + GST%
  + Final Price (1kg)
  + Stock Status
  + Actions\n- Pagination with 20 products per page
- **Search bar:** Search by product name, ID, or vendor name
- **Filter dropdowns:**
  + Category (including custom categories)
  + **Vendor (dropdown with all registered vendors)**
  + Stock Status (In Stock/Low Stock/Out of Stock)
- **Sort options:**
  + Name (A-Z)
  + Price (Low to High)
  + Recently Added
  + **Vendor Name (A-Z)**
- **Vendor Name Display:** Clicking on vendor name in table opens vendor profile in new tab
\n**Edit Product (Enhanced with Vendor Update UI and Updated Variant Logic)**
- **Back Button:** Navigate back to Product List page
- Pre-filled form with existing product data
- All fields editable except Product ID (read-only)
- **Category field is a dropdown showing current category, admin can change to another existing category but cannot add new categories from this page**
- **Base Cost Price (₹/kg) is editable** - changing this will automatically recalculate cost and selling prices for all existing variants
- Selling price auto-updates when base cost price changes (Cost + 25%)
- Image replacement option\n- **Vendor Update Section (Enhanced UI):**
  + **Current Vendor Display:** Section at top showing current vendor information
    * Label: 'Current Vendor'
    * Display format: [Vendor Name] - [Contact Person] - [Phone]\n    * 'View Vendor Profile' link (opens vendor profile in new tab)
  + **Change Vendor Dropdown:** Dropdown field labeled 'Change Vendor' positioned below current vendor display
    * Dropdown displays list of all registered vendors (same format as Add Product)
    * Search functionality within dropdown\n    * Selecting different vendor updates the vendor-product association by updating vendor_id in products table
  + **Add New Vendor Option:** 'Add New Vendor' button next to change vendor dropdown (same inline form as Add Product)
  + **Confirm Change Button:** Positioned below vendor dropdown, saves vendor update with confirmation prompt: 'Are you sure you want to change vendor from [Old Vendor] to [New Vendor]?'
- **Variant Management (Updated Logic):**
  + Display currently active variants with details: Packaging Size, Weight, Discount %, Cost Price, Selling Price, Final Price, Stock Quantity
  + **Edit Variant:** Click edit button to modify variant details
    * Packaging Size (dropdown, can be changed)
    * Weight (read-only, auto-updates when packaging size changes)
    * Discount Percentage (editable)
    * Stock Quantity (editable)
    * Cost Price (read-only, auto-calculated from base cost price × weight)
    * Selling Price (read-only, auto-calculated with discount applied)
    * Final Price (read-only, includes GST)
  + **Add New Variant:** Same process as in Add Product - select packaging size, weight auto-populates, enter discount percentage and stock quantity
  + **Delete Variant:** Option to delete variant (only if no existing orders or can be deactivated to hide from customer view while retaining data)
  + **Automatic Price Recalculation:** When base cost price is changed, all variant prices automatically recalculate based on their respective weights and discount percentages
- Update and Cancel buttons
- Confirmation prompt before saving changes
- **Post-Update Confirmation:** Success message displays: 'Product updated successfully. Vendor changed to [New Vendor Name].' (if vendor was changed) or 'Product updated successfully. All variant prices recalculated based on new base cost price.' (if base cost price was changed)

**Delete/Deactivate Product**
- Delete button with confirmation dialog
- Option to deactivate instead of permanent deletion
- Deactivated products hidden from customer view but retained in database
\n**Bulk Operations**
- Checkbox selection for multiple products
- Bulk actions: Update prices, Change category, **Assign Vendor (opens bulk vendor assignment dialog)**, Deactivate, Export to CSV
- **Bulk Vendor Assignment Dialog:**
  + Select vendor from dropdown
  + Preview list of selected products
  + Confirm button applies vendor to all selected products by updating vendor_id in products table\n  + Success message displays count of products updated
\n**Category Management (Separate Section with Dedicated Add Category Button)**
\n**View Category List**
- **Back Button:** Navigate back to Admin Dashboard
- **Add Category Button:** Prominent green button with plus icon at the top of the page (navigates to Add New Category page)
- Table display with columns: Category Name, Category Prefix, Total Products, Status, Actions
- Search bar for category name
- Filter by Status (Active/Inactive)
- Sort by Name (A-Z), Total Products\n\n**Add New Category (Accessed via Dedicated Add Category Button)**
- **Back Button:** Navigate back to Category List page
- Form fields:\n  + Category Name (text input, required)
  + Category Description (optional text area)
  + Category Prefix (auto-generated from first 3-5 letters of category name, editable)
  + Default Packaging Options (checkboxes:200g, 500g, 1kg, 2kg, 5kg, 10kg)
  + Discount Policy (optional: define package-based discount percentages)
  + Category Image Upload (optional)\n  + Status (Active/Inactive)
- Save and Cancel buttons
- Validation: Category name must be unique
\n**Edit Category**
- **Back Button:** Navigate back to Category List page
- Pre-filled form with existing category data\n- All fields editable except Category Prefix (read-only after products are added)
- Update and Cancel buttons
- Warning message if category has existing products

**Delete Category**
- Delete button with confirmation dialog
- Validation: Cannot delete category if it contains products
- Option to deactivate instead of deletion
\n**Add Products to Custom Category**
- After creating a new category, admin can add products using the standard Add New Product form
- Category dropdown includes all active categories (default + custom)
- Product ID auto-generated with custom category prefix
\n#### 3.12.2 Customer Management (Implementation Ready)\n
**Add New Customer**
- **Back Button:** Navigate back to Customer List page
- Form fields: Customer Name, Email, Phone Number, Primary Delivery Address (Street, City, State, Pincode), Secondary Address (optional)\n- Account status selection (Active/Inactive)
- Save and Cancel buttons
\n**View Customer List**
- **Back Button:** Navigate back to Admin Dashboard
- Table display with columns: Customer ID, Name, Email, Phone, Registration Date, Total Orders, Total Spent, Loyalty Points, Status, Actions
- Pagination with 25 customers per page
- Search bar for name, email, or phone
- Filter options: Registration Date Range, Order Count (0, 1-5, 5+), Loyalty Tier, Status (Active/Inactive)
- Sort options: Name (A-Z), Registration Date, Total Spent, Loyalty Points

**View Customer Profile**
- **Back Button:** Navigate back to Customer List page
- Customer details section: Name, Email, Phone, Registration Date, Account Status, Loyalty Tier, Points Balance\n- Delivery addresses list with edit/delete options
- Order history table: Order ID, Date, Order Type (Online/In-Store), Items Count, Total Amount, Status\n- Purchase analytics: Total orders, Total spent, Average order value, Favorite categories
- Loyalty points transaction history

**Edit Customer Information**
- **Back Button:** Navigate back to Customer Profile page
- Pre-filled form with existing customer data
- Editable fields: Name, Email, Phone, Addresses, Account Status\n- Update and Cancel buttons
- Email/Phone validation

**Customer Activity Tracking**
- Last login date and time
- Recent browsing history (last 10 products viewed)
- Cart abandonment tracking
\n#### 3.12.3 Inventory Management (Implementation Ready)

**Stock Level Dashboard**
- **Back Button:** Navigate back to Admin Dashboard
- Overview cards: Total Products, Low Stock Items, Out of Stock Items, Total Inventory Value
- Real-time stock status for all products
- Color-coded indicators: Green (In Stock >50units), Yellow (Low Stock 10-50 units), Red (Critical<10 units), Grey (Out of Stock)
\n**Critical Stock Status Overview**
- **Back Button:** Navigate back to Stock Level Dashboard
- **Centralized Critical Status Dashboard:** A dedicated section displaying all products with critical stock levels across all categories
- **Table display with columns:**
  + Product ID
  + Product Name
  + Category
  + **Variant (Packaging Size)** (displays stock status for each variant separately)
  + Current Stock Quantity
  + Stock Status (Critical/Low/Out of Stock)
  + Last Restocked Date
  + Pending Purchase Orders (if any)
  + Actions (Reorder/View Details)
- **Visual Indicators:**
  + Red badge for Out of Stock (0 units)
  + Orange badge for Critical Stock (<10 units)
  + Yellow badge for Low Stock (10-50 units)
- **Filter Options:** Filter by Category, Stock Status, Date Range, Packaging Size
- **Sort Options:** Sort by Stock Quantity (Low to High), Product Name, Last Restocked Date
- **Quick Reorder Button:** Direct link to create purchase order for critical stock items
- **Export Functionality:** Export critical stock report to CSV/PDF
- **Alert Summary:** Display total count of Out of Stock, Critical, and Low Stock items at the top of dashboard

**Update Stock Levels (Enhanced with Variant Support)**
- **Back Button:** Navigate back to Stock Level Dashboard
- Product search and selection
- **Variant Selection:** Dropdown to select specific variant (packaging size)
- Current stock display for selected variant
- Stock adjustment options: Add Stock, Remove Stock, Set Exact Quantity
- Reason dropdown: New Purchase, Sale, Damage, Return, Manual Correction
- Adjustment notes field
- Submit and Cancel buttons
- **Stock updates are recorded separately for each variant**

**Bulk Stock Update**
- CSV upload functionality for bulk updates
- Template download option (includes variant/packaging size column)
- Validation and error reporting
- Preview before final update

**Low Stock Alerts**
- Configurable threshold settings per product or category
- **Separate alerts for each variant**
- Alert notification panel in dashboard
- Email notifications to admin
- Alert history log

**Inventory Movement Log**
- **Back Button:** Navigate back to Stock Level Dashboard
- Table display: Date, Product, **Variant (Packaging Size)**, Movement Type (In/Out), Quantity, Reason, Updated By, Notes
- Filter by date range, product, movement type, variant
- Export to CSV option
\n**Stock Reports**
- Current inventory status report (with variant breakdown)
- Stock movement report (date range selection)
- Low stock items report (by variant)
- Inventory valuation report (cost price × quantity for each variant)
- Export options: PDF, Excel, CSV

#### 3.12.4 User Management (Implementation Ready)

**User Roles and Privileges**
- **Admin:** Full access to all features including user management, product management, order management, inventory, vendor management, shipping management, and reports. **Admin users have the exclusive privilege to add new Staff and Customer users.**
- **Staff:** Limited access with the following privileges:
  + View and process orders (both online and in-store)
  + Update order status
  + View customer information (cannot edit or delete)
  + View product catalog (cannot add, edit, or delete products)
  + Update inventory stock levels
  + View reports (cannot generate custom reports)
  + Respond to customer chat inquiries
  + No access to: User management, Vendor management, Shipping handler management, Financial reports, System settings
- **Customer:** Standard customer account with shopping and order tracking privileges only

**Add New User (Admin Privilege Only)**
- **Back Button:** Navigate back to User List page
- **Only Admin users can add new Staff and Customer users**
- Form fields:\n  + User ID (auto-generated)
  + Full Name
  + Email (must be unique)
  + Phone Number
  + Role Selection (dropdown: Staff/Customer only - Admin users cannot create new Admin accounts through this interface)
  + Password (auto-generated or manual input with strength indicator)
  + Account Status (Active/Inactive)
  + Assigned Permissions (checkboxes for Staff role to customize specific access rights)
- Save and Cancel buttons
- Email notification sent to new user with login credentials

**View User List**
- **Back Button:** Navigate back to Admin Dashboard\n- Table display with columns: User ID, Name, Email, Phone, Role, Registration Date, Last Login, Status, Actions
- Pagination with 25 users per page
- Search bar for name, email, or user ID
- Filter options: Role (Admin/Staff/Customer), Status (Active/Inactive), Registration Date Range
- Sort options: Name (A-Z), Registration Date, Last Login

**Edit User Information**
- **Back Button:** Navigate back to User List page
- Pre-filled form with existing user data
- Editable fields: Name, Email, Phone, Role, Account Status, Permissions (for Staff role)
- Password reset option (generates new password and sends email)
- Update and Cancel buttons
- Confirmation prompt before saving changes
- **Note:** Only Admin users can change user roles and permissions

**Deactivate or Delete User Account**
- Deactivate button: Temporarily disables user access without deleting data
- Delete button with confirmation dialog: Permanently removes user account\n- **Note:** Admin users cannot delete their own account
- Deactivated users cannot log in but their data is retained

**User Activity Log**
- **Back Button:** Navigate back to User List page
- Track user login history with timestamps
- Record of actions performed by each user (for audit purposes)
- Filter by user, date range, action type
- Export to CSV option

**Permission Management for Staff Users**
- Customizable permission settings for Staff role:\n  + Order Management: View Orders, Update Order Status, Generate Invoices
  + Customer Management: View Customer Information\n  + Product Management: View Products\n  + Inventory Management: Update Stock Levels, View Stock Reports
  + Reports: View Sales Reports\n  + Customer Support: Respond to Chat Inquiries
- Checkbox-based permission assignment during user creation or editing
- Permission changes take effect immediately upon saving

#### 3.12.5 Order Management\n
**View All Orders**
- **Back Button:** Navigate back to Admin Dashboard
- **Separate Tabs for Order Types:**
  + **Online Orders Tab:** Displays all online orders with delivery requirements
  + **In-Store Purchases Tab:** Displays all direct store purchases without delivery
  + **All Orders Tab:** Combined view of both order types
\n**Online Orders Management**
- **Back Button:** Navigate back to View All Orders page
- View and process online orders with status updates
- **Editable order status dropdown with options:** Order Placed, Processing, Shipped, Delivered\n- **Status update functionality:** Admin can change order status directly from the order list or order detail page with immediate save
- **Delivery location identification:** System automatically detects whether delivery is intrastate (same city and state) or interstate based on customer delivery address
- **Weight-based shipping calculation:** Shipping charges calculated automatically based on total order weight and delivery location (₹30-50/kg for intrastate, ₹70-100/kg for interstate)
- Generate and download invoices with shipping cost and discount percentage included
- Order details view showing: Order ID, Order Created Date, Order Type (Online Order), Customer information, Delivery address with state, Product list with variants, weights and discount percentages, Subtotal, Package Discount (with %), GST, Shipping charges (with delivery type indicator), Grand total\n\n**In-Store Purchases Management**
- **Back Button:** Navigate back to View All Orders page\n- View and process in-store purchases\n- **Order status:** Automatically marked as Completed after payment
- **No shipping management:** In-store purchases do not require delivery address or shipment tracking
- Generate and download invoices without shipping charges
- Order details view showing: Order ID, Order Created Date, Order Type (In-Store Purchase), Customer information (if registered), Product list with variants, weights and discount percentages, Subtotal, Package Discount (with %), GST, Grand total (no shipping charges)

**Order Filtering and Search**
- Filter orders by: Order Type (Online/In-Store/All), Date Range, Status, Customer Name\n- Search by Order ID or Customer Name
- Sort by Date, Total Amount, Status
\n**Order Reports**
- **Back Button:** Navigate back to View All Orders page\n- Separate sales reports for Online Orders and In-Store Purchases
- Combined sales overview\n- Export options: CSV, PDF, Excel

#### 3.12.6 Vendor Management (Implementation Ready with Enhanced Purchase Order Integration and Top-Level Add Vendor Button)

**View Vendor List (Enhanced with Top-Level Add Vendor Button)**\n- **Back Button:** Navigate back to Admin Dashboard
- **Add Vendor Button:** Prominent green button with plus icon at the top of the page (similar to Add Category button), navigates to Add New Vendor page
- Table display with columns: Vendor ID, Vendor Name, Contact Person, Phone, Product Categories, **Total Products Supplied**, Total Transactions, Total Amount Paid, Outstanding Amount, Status, Actions
- Pagination with 20 vendors per page
- Search bar for vendor name or ID
- Filter options: Product Category, Status (Active/Inactive)\n- Sort options: Name (A-Z), Total Transactions, Outstanding Amount

**Add New Vendor (Accessed via Dedicated Add Vendor Button)**
- **Back Button:** Navigate back to Vendor List page
- Form fields: Vendor ID (auto-generated), Vendor Name, Contact Person, Email, Phone Number, Address, Product Categories Supplied, Payment Terms, GST Number\n- Save and Cancel buttons
- **Post-Save Confirmation:** Success message displays: 'Vendor [Vendor Name] added successfully. You can now assign this vendor to products.'
\n**View Vendor Profile (Enhanced with Complete Transaction History)**
- **Back Button:** Navigate back to Vendor List page
- **Vendor Details Section:** Name, Contact Person, Email, Phone, Address, GST Number, Payment Terms\n- **Products Supplied Section:**
  + Table display of all products linked to this vendor (retrieved using vendor_id from products table)
  + Columns: Product ID, Product Name, Category, Current Stock Status\n  + Link to view product details
- **Complete Transaction History Section:**
  + **All Purchase Orders Tab:**
    * Table display with columns: Purchase Order ID, Order Date, Expected Delivery Date, Actual Received Date, Total Products, Order Total Amount (₹), Order Status, Payment Status, Actions
    * Filter by Order Status, Date Range, Payment Status
    * Sort by Order Date, Total Amount
* Click on Purchase Order ID to view full order details
  + **All Payments Tab:**
    * Table display with columns: Payment ID, Payment Date, Purchase Order ID (if linked), Amount Paid (₹), Payment Method, Transaction Reference, Notes
    * Data retrieved from vendor_payments table using vendor_id and purchase_order_id columns
    * Filter by Date Range, Payment Method\n    * Sort by Payment Date, Amount Paid
    * Click on Payment ID to view payment details
  + **Supply Details Tab:**
    * Table display with columns: Supply ID, Supply Date, Product Name, Category, Quantity (kg), Cost Price (₹/kg), Total Amount (₹), Payment Status, Balance (₹)\n    * Filter by Date Range, Product Category, Payment Status
    * Sort by Supply Date, Total Amount
- **Financial Summary Dashboard:**
  + Total Purchase Orders Placed (count)
  + Total Purchase Value (₹) (sum of all purchase orders)
  + Total Amount Paid (₹) (sum of all payments made to vendor from vendor_payments table)
  + Outstanding Balance (₹) (Total Purchase Value - Total Amount Paid)
  + Payment Status Indicator (Fully Paid/Partially Paid/Pending)
  + Visual chart showing payment trends over time
- **Quick Actions:**
  + Create New Purchase Order button
  + Record Payment button
  + View All Transactions button (expands transaction history)
  + Export Vendor Report (PDF/CSV)
\n**Edit Vendor Information**
- **Back Button:** Navigate back to Vendor Profile page
- Pre-filled form with existing vendor data
- All fields editable except Vendor ID\n- Update and Cancel buttons
\n**Purchase Order Management**
\n**Create Purchase Order to Vendor**
- **Back Button:** Navigate back to Purchase Orders List page
- **Form fields:**
  + Purchase Order ID (auto-generated with format: PO-YYYYMMDD-XXX)
  + Vendor Name (dropdown selection from registered vendors)
  + Order Date (calendar picker, defaults to current date)
  + Expected Delivery Date (calendar picker)\n  + Product Selection (multi-select dropdown or add multiple product rows)
    * Product Name (dropdown from product catalog)
    * Product Category (auto-filled based on product selection)
    * Quantity Ordered (in kg)
    * Cost Price per kg (₹)\n    * Total Amount (auto-calculated: Quantity × Cost Price)
  + Order Total Amount (₹) (auto-calculated sum of all product totals)
  + Payment Terms (dropdown: Advance Payment/Payment on Delivery/Credit/Other)
  + Delivery Address (text field for vendor delivery location)
  + Special Instructions (optional text area)
  + Order Status (dropdown: Draft/Sent to Vendor/Confirmed/Partially Received/Fully Received/Cancelled)
  + Notes (optional)\n- **Add Product Row button:** Allows adding multiple products to a single purchase order
- **Remove Product Row button:** Removes selected product from order
- **Save as Draft button:** Saves order without sending to vendor
- **Send Order button:** Finalizes and sends order to vendor (changes status to Sent to Vendor)\n- **Cancel button:** Discards order creation
\n**View Purchase Orders List**
- **Back Button:** Navigate back to Vendor Profile page or Admin Dashboard
- **Table display with columns:**
  + Purchase Order ID\n  + Vendor Name
  + Order Date
  + Expected Delivery Date
  + Total Products (count)
  + Order Total Amount (₹)
  + Order Status
  + **Payment Status** (Unpaid/Partially Paid/Fully Paid)\n  + Actions (View/Edit/Mark as Received/Record Payment/Cancel)
- **Pagination:** 20 orders per page
- **Search bar:** Search by Purchase Order ID or Vendor Name
- **Filter options:**
  + Vendor (dropdown)
  + Order Status (Draft/Sent to Vendor/Confirmed/Partially Received/Fully Received/Cancelled)
  + **Payment Status (Unpaid/Partially Paid/Fully Paid)**
+ Date Range (Order Date or Expected Delivery Date)
- **Sort options:** Order Date, Expected Delivery Date, Total Amount, Vendor Name

**View Purchase Order Details (Enhanced with Payment Tracking)**
- **Back Button:** Navigate back to Purchase Orders List page
- **Order Information Section:**
  + Purchase Order ID
  + Vendor Name with contact details (link to Vendor Profile)
  + Order Date
  + Expected Delivery Date
  + Actual Received Date (if status is Partially Received or Fully Received)
  + Order Status
  + **Payment Status** (Unpaid/Partially Paid/Fully Paid)
  + Payment Terms
  + Delivery Address\n  + Special Instructions
- **Product Details Table:**
  + Product Name\n  + Category
  + Quantity Ordered (kg)
  + Quantity Received (kg) (editable when marking as received)
  + Cost Price per kg (₹)
  + Total Amount (₹)
- **Order Summary:**
  + Total Products Ordered
  + Total Quantity Ordered (kg)
  + Total Quantity Received (kg)
  + Order Total Amount (₹)
  + **Total Amount Paid (₹)** (calculated from vendor_payments table using purchase_order_id)
  + **Outstanding Balance (₹)** (Order Total - Total Paid)
- **Payment History Section:**
  + Table display of all payments made for this purchase order (retrieved from vendor_payments table using purchase_order_id)
  + Columns: Payment ID, Payment Date, Amount Paid (₹), Payment Method, Transaction Reference, Recorded By\n  + Link to view full payment details
- **Action Buttons:**
  + Edit Order (available for Draft and Sent to Vendor status)
  + Mark as Received (opens receive products dialog)
  + **Record Payment button** (opens payment recording dialog)
  + Cancel Order (with confirmation)\n  + Print/Download Purchase Order\n
**Edit Purchase Order**
- **Back Button:** Navigate back to Purchase Order Details page
- Pre-filled form with existing order data
- All fields editable except Purchase Order ID
- Can add or remove products\n- Can update quantities and prices
- Update button saves changes
- **Note:** Orders with status Confirmed, Partially Received, or Fully Received have limited editing (only notes and expected delivery date can be modified)

**Mark Products as Received (Enhanced with Automatic Stock Update, Variant Support, and Vendor Transaction Tracking)**
- **Back Button:** Navigate back to Purchase Order Details page
- **Receive Products Dialog:**
  + Product list with checkboxes for selection
  + **Variant Selection:** Dropdown to select variant (packaging size) for each product (1kg, 2kg, 5kg, 10kg, 200g, 500g, etc.)
  + Quantity Received input field for each product and variant (defaults to ordered quantity)
  + Actual Received Date (calendar picker, defaults to current date)
  + Quality Check Status (dropdown: Approved/Rejected/Partial Approval)\n  + Received By (auto-filled with logged-in admin name)
  + Notes (optional, for recording any discrepancies or issues)
- **Partial Receipt Handling:**
  + If received quantity is less than ordered quantity, order status changes to Partially Received
  + System tracks remaining quantity to be received
  + Admin can mark remaining products as received in subsequent transactions
- **Full Receipt:**
  + When all products are received in full quantity, order status changes to Fully Received
- **Automatic Inventory Stock Update (Enhanced with Variant Support):**
  + **Upon marking products as received, system automatically updates inventory stock levels by adding the received quantity to current stock for the selected variant**
  + **Stock Update Process:**
    * System identifies the product by Product ID and selected variant from the purchase order
    * Retrieves current stock quantity for the specific variant from inventory database
    * Adds received quantity to current stock: New Stock = Current Stock + Received Quantity
    * Updates product stock level for the specific variant in inventory management system
    * Displays confirmation message showing old stock, received quantity, and new stock level for the variant
  + **Inventory Movement Log Entry:**
    * Automatically creates an entry in Inventory Movement Log with the following details:
      - Date: Actual Received Date
      - Product: Product Name and ID
      - **Variant:** Selected variant (e.g., 1kg, 5kg, 200g)
      - Movement Type: Stock In (Purchase Order)\n      - Quantity: Received Quantity
      - Reason: Purchase Order Receipt
      - Reference: Purchase Order ID (PO-YYYYMMDD-XXX)
      - Updated By: Admin/Staff name who marked the order as received
      - Notes: Any notes entered during receipt process
  + **Stock Status Update:**
    * If product variant was previously Out of Stock or Low Stock, status automatically updates based on new stock level
    * Color-coded indicator changes accordingly (Red → Yellow → Green)
  + **Critical Stock Alert Removal:**
    * If product variant was listed in Critical Stock Status Dashboard and new stock level exceeds critical threshold, it is automatically removed from critical status list
- **Automatic Vendor Transaction Tracking:**
  + **Upon marking products as received, system automatically creates a transaction record in Vendor Profile:**
    * Transaction Type: Purchase Order Receipt
    * Transaction ID: Links to Purchase Order ID\n    * Date: Actual Received Date
    * Products: List of received products with quantities and variants
    * Total Amount: Order Total Amount (₹)
    * Payment Status: Defaults to Unpaid (can be updated via Record Payment)\n    * Reference: Purchase Order ID\n  + **Transaction is immediately visible in Vendor Profile under Complete Transaction History section**
  + **Vendor Financial Summary automatically updates:**
    * Total Purchase Orders count increases
    * Total Purchase Value increases by Order Total Amount\n    * Outstanding Balance increases by Order Total Amount (until payment is recorded)
- **Quality Check Handling:**
  + If Quality Check Status is Rejected, received quantity is not added to inventory stock
  + If Partial Approval, only approved quantity is added to stock
  + Rejected items are logged separately for vendor follow-up
- **Confirm Receipt button:** Saves received quantities, updates order status, triggers automatic stock update, and creates vendor transaction record
- **Cancel button:** Closes dialog without saving\n- **Post-Receipt Confirmation:**
  + Success message displays: 'Products received successfully. Inventory updated: [Product Name] ([Variant]) stock increased from [Old Stock] to [New Stock]. Vendor transaction recorded.'
  + Option to view updated inventory, vendor profile, or return to purchase order list

**Record Payment for Purchase Order (New Feature with Automatic Vendor Payment Tracking)**
- **Back Button:** Navigate back to Purchase Order Details page
- **Payment Recording Dialog:**
  + Purchase Order ID (read-only, auto-filled)
  + Vendor Name (read-only, auto-filled)
  + Order Total Amount (₹) (read-only, auto-filled)
  + Total Amount Already Paid (₹) (read-only, calculated from vendor_payments table using purchase_order_id)
  + Outstanding Balance (₹) (read-only, auto-calculated: Order Total - Total Paid)
  + **Payment Details:**
    * Payment Date (calendar picker, defaults to current date)
    * Amount to Pay (₹) (input field, cannot exceed Outstanding Balance)
    * Payment Method (dropdown: Cash/Bank Transfer/UPI/Cheque/Other)
    * Transaction Reference Number (optional text field)
    * Notes (optional text area)
  + **Payment Validation:**
    * System validates that Amount to Pay does not exceed Outstanding Balance
    * If user attempts to enter amount greater than outstanding balance, error message displays: 'Payment amount cannot exceed outstanding balance of ₹[Balance]'
  + **Record Payment button:** Saves payment details to vendor_payments table with purchase_order_id and vendor_id, and updates payment status\n  + **Cancel button:** Closes dialog without saving
- **Automatic Payment Status Update:**
  + **If Total Amount Paid = Order Total Amount:** Payment Status changes to Fully Paid
  + **If Total Amount Paid < Order Total Amount and > 0:** Payment Status changes to Partially Paid
  + **If Total Amount Paid = 0:** Payment Status remains Unpaid
- **Automatic Vendor Payment Tracking:**
  + **Upon recording payment, system automatically creates a payment record in vendor_payments table:**
    * Payment ID (auto-generated)
    * Payment Date\n    * Purchase Order ID (linked via purchase_order_id column)
    * Vendor ID (linked via vendor_id column)
    * Amount Paid (₹)
    * Payment Method
    * Transaction Reference\n    * Notes
    * Recorded By (admin/staff name)
  + **Payment is immediately visible in Vendor Profile under Complete Transaction History > All Payments Tab**
  + **Vendor Financial Summary automatically updates:**
    * Total Amount Paid increases by payment amount
    * Outstanding Balance decreases by payment amount\n    * Payment Status Indicator updates (Unpaid → Partially Paid → Fully Paid)
- **Post-Payment Confirmation:**
  + Success message displays: 'Payment of ₹[Amount] recorded successfully for Purchase Order [PO-ID]. Vendor payment records updated.'
  + Updated payment status and outstanding balance displayed
  + Option to view vendor profile, record another payment, or return to purchase order list

**Cancel Purchase Order**
- Cancel button with confirmation dialog
- Cancellation reason dropdown: Vendor Unavailable/Price Change/Order Error/Other
- Notes field for additional details
- Order status changes to Cancelled
- Cancelled orders retained in database for record-keeping

**Purchase Order Reports**
- **Back Button:** Navigate back to Purchase Orders List page
- **Pending Orders Report:** Lists all orders with status Sent to Vendor or Confirmed that are awaiting delivery
- **Overdue Orders Report:** Lists orders where Expected Delivery Date has passed but status is not Fully Received
- **Vendor-wise Purchase Summary:** Total orders placed, total amount, total paid, outstanding balance, pending deliveries per vendor
- **Product-wise Purchase Summary:** Total quantity ordered and received per product (with variant breakdown)
- **Payment Status Report:** Lists all purchase orders with payment status breakdown (Unpaid/Partially Paid/Fully Paid)
- **Filter options:** Date range, Vendor, Product Category, Order Status, Payment Status
- **Export options:** CSV, PDF, Excel

**Record Purchase Transaction (Manual Entry - Retained for Backward Compatibility)**
- **Back Button:** Navigate back to Vendor Profile page
- Vendor selection dropdown
- Product selection with quantity and cost price input
- Transaction date\n- Payment status (Paid/Pending/Partial)
- Amount paid field
- Invoice upload option
- Notes field
- Submit button
- **Note:** This manual entry method is retained for recording transactions that are not linked to purchase orders

**Vendor Supply Details Table**
- **Back Button:** Navigate back to Vendor Profile page
- **Add Supply Entry:** Admin can manually enter supply details with the following fields:
  + Supply ID (auto-generated)
  + Vendor Name (dropdown selection from registered vendors)
  + Supply Date\n  + Product Name (dropdown or text input)
  + Product Category (Rice/Flour/Flakes/Millets/Honey/Custom Categories)
  + Quantity Supplied (in kg)
  + Cost Price per kg (₹)
  + Total Amount (auto-calculated: Quantity × Cost Price)
  + Payment Status (Paid/Pending/Partial)
  + Amount Paid (₹)
  + Balance Amount (auto-calculated: Total Amount - Amount Paid)
  + Invoice Number (optional)\n  + Notes (optional)
  + Save and Cancel buttons

- **View Supply Details Table:** Table display with columns:
  + Supply ID
  + Vendor Name
  + Supply Date
  + Product Name
  + Category
  + Quantity (kg)
  + Cost Price (₹/kg)
  + Total Amount (₹)
  + Payment Status
  + Amount Paid (₹)
  + Balance (₹)
  + Actions (Edit/Delete/View Invoice)
\n- **Edit Supply Entry:** Pre-filled form with existing supply data, all fields editable except Supply ID
\n- **Delete Supply Entry:** Delete button with confirmation dialog

- **Filter and Search Options:**
  + Search by Supply ID, Vendor Name, or Product Name\n  + Filter by Vendor, Date Range, Product Category, Payment Status
  + Sort by Supply Date, Total Amount, Balance Amount

- **Export Options:** Export supply details to CSV/PDF for reporting

- **Supply Summary Dashboard:**
  + Total supplies received (count)
  + Total purchase value (₹)
  + Total amount paid (₹)
  + Total outstanding balance (₹)
  + Category-wise supply breakdown
\n**Vendor Payment Summary Report (Enhanced with Purchase Order Integration)**
- **Back Button:** Navigate back to Vendor Profile page
- **Report displays comprehensive payment information for each vendor:**
  + Vendor Name
  + Total Purchase Orders Placed (count)
  + Total Purchase Value (₹) (sum of all purchase orders)
  + Total Supplies Received (count) (manual entries)
  + Total Supply Value (₹) (manual entries)
  + **Combined Total Purchase Value (₹)** (Purchase Orders + Manual Supplies)
  + Total Amount Paid (₹) (all payments including purchase order payments and manual payments from vendor_payments table)
  + Outstanding Balance (₹) (Combined Total Purchase Value - Total Amount Paid)
  + Payment Status (Fully Paid/Partially Paid/Pending)
- **Detailed Breakdown Section:**
  + Purchase Order Payments: List of all payments made for purchase orders (retrieved from vendor_payments table using purchase_order_id)
  + Manual Supply Payments: List of all payments recorded manually\n  + Combined Payment Timeline: Chronological view of all payments\n- **Filter Options:** Filter by Vendor, Date Range, Payment Status, Transaction Type (Purchase Order/Manual Supply)
- **Sort Options:** Sort by Vendor Name, Total Amount Paid, Outstanding Balance\n- **Export Options:** Export to CSV/PDF for accounting and financial reporting

**Transaction Management**
- View all transactions between vendor and buyer (purchase orders + manual entries)
- Filter by vendor, date range, payment status, transaction type
- Update payment status and record payments
- Generate purchase reports
- Export to CSV/PDF

#### 3.12.7 Shipping Management (Implementation Ready)

**Note:** Shipping management applies only to Online Orders. In-Store Purchasesdo not require shipment handling.

**Add Shipment Handler**
- **Back Button:** Navigate back to Shipment Handler List page
- Form fields: Handler ID (auto-generated), Handler Name, Contact Person, Email, Phone Number, Service Areas (Intrastate/Interstate/Both), Rate per kg (Intrastate), Rate per kg (Interstate), Payment Terms\n- Save and Cancel buttons

**View Shipment Handler List**
- **Back Button:** Navigate back to Admin Dashboard
- Table display with columns: Handler ID, Handler Name, Contact Person, Phone, Service Areas, Intrastate Rate, Interstate Rate, Total Shipments, Total Amount Paid, Status, Actions
- Pagination with20 handlers per page
- Search bar for handler name or ID
- Filter options: Service Area, Status (Active/Inactive)
- Sort options: Name (A-Z), Total Shipments\n\n**View Handler Profile**
- **Back Button:** Navigate back to Shipment Handler List page
- Handler details section: Name, Contact Person, Email, Phone, Service Areas, Rate Structure, Payment Terms
- Shipment history table: Shipment ID, Order ID, Date, Destination, Weight, Charges, Delivery Status\n- Financial summary: Total shipments, Total charges, Total paid, Outstanding amount
\n**Edit Handler Information**
- **Back Button:** Navigate back to Handler Profile page
- Pre-filled form with existing handler data\n- All fields editable except Handler ID
- Update and Cancel buttons

**Shipment Tab - Assign and Track Shipments**
- **Back Button:** Navigate back to Admin Dashboard or Order Management page
- **Shipment List View:** Displays all online orders that require shipment handling
- **Table display with columns:**
  + Order ID
  + Order Created Date
  + Customer Name
  + Delivery Address
  + Order Weight (kg)
  + Order Status
  + Assigned Handler
  + Shipped Date
  + Expected Delivery Date
  + Shipment Status
  + Actions (Assign/Edit/View Details)

- **Assign Shipment Functionality:**
  + **Handler Selection:** Dropdown to select shipment handler from registered handlers
  + **Shipped Date:** Calendar picker to select the date when order is shipped
    * **Date Validation:** System validates that Shipped Date cannot be earlier than Order Created Date. If user attempts to select a date prior to order creation, an error message is displayed: 'Shipment date cannot be earlier than order created date'
  + **Expected Delivery Date:** Calendar picker to select expected delivery date
    * **Date Validation:** System validates that Expected Delivery Date cannot be earlier than Shipped Date\n  + **Assign Button:** Save shipment assignment with selected handler and dates
  + **Automatic Shipping Charges Calculation:** System automatically calculates shipping charges based on order weight and handler rates (intrastate/interstate)\n\n- **Edit Shipment Details:**
  + Modify assigned handler\n  + Update shipped date (with validation to ensure it is not earlier than order created date)
  + Update expected delivery date (with validation to ensure it is not earlier than shipped date)
  + Save changes button

- **Shipment Status Tracking:**
  + Status options: Assigned, In Transit, Out for Delivery, Delivered, Returned
  + Update status with timestamp
  + Customer notification on status updates
\n- **Filter and Search Options:**
  + Search by Order ID or Customer Name
  + Filter by Handler, Shipment Status, Date Range
  + Sort by Shipped Date, Expected Delivery Date, Order ID

- **Shipment Details View:**
  + **Back Button:** Navigate back to Shipment List page
  + Order information: Order ID, Order Created Date, Customer details, Delivery address\n  + Product list with variants and weights
  + Assigned handler details
  + Shipped date and expected delivery date
  + Shipping charges breakdown
  + Current shipment status with history log
\n**Shipment Payment Records Table**
- **Back Button:** Navigate back to Handler Profile page
- **Add Payment Entry:** Admin can record payments made to shipment handlers with the following fields:
  + Payment ID (auto-generated)
  + Handler Name (dropdown selection from registered handlers)
  + Payment Date
  + Shipment ID (optional, for linking specific shipments)\n  + Order ID (optional, for reference)
  + Amount Paid (₹)
  + Payment Method (Cash/Bank Transfer/UPI/Cheque/Other)
  + Transaction Reference Number (optional)
  + Notes (optional)
  + Save and Cancel buttons

- **View Shipment Payment Table:** Table display with columns:
  + Payment ID
  + Handler Name
  + Payment Date\n  + Shipment ID\n  + Order ID
  + Amount Paid (₹)\n  + Payment Method
  + Transaction Reference
  + Notes
  + Actions (Edit/Delete/View Receipt)

- **Edit Payment Entry:** Pre-filled form with existing payment data, all fields editable except Payment ID

- **Delete Payment Entry:** Delete button with confirmation dialog

- **Filter and Search Options:**
  + Search by Payment ID, Handler Name, Shipment ID, or Order ID
  + Filter by Handler, Date Range, Payment Method
  + Sort by Payment Date, Amount Paid\n
- **Export Options:** Export payment records to CSV/PDF for accounting\n
- **Payment Summary Dashboard:**
  + Total payments made (count)
  + Total amount paid to handlers (₹)
  + Handler-wise payment breakdown
  + Pending payments (if any outstanding amounts exist)
\n**Handler Payment Summary Report**
- **Back Button:** Navigate back to Handler Profile page
- **Report displays total amount paid to each shipment handler with the following details:**
  + Handler Name\n  + Total Shipments Handled (count)
  + Total Shipping Charges (₹)
  + Total Amount Paid (₹)
  + Outstanding Balance (₹)
  + Payment Status (Fully Paid/Partially Paid/Pending)
- **Filter Options:** Filter by Handler, Date Range, Payment Status
- **Sort Options:** Sort by Handler Name, Total Amount Paid, Outstanding Balance
- **Export Options:** Export to CSV/PDF for accounting and financial reporting

**Transaction Management with Handlers**
- View all financial transactions with shipment handlers
- Record payments made to handlers using the Shipment Payment Records Table
- Track outstanding amounts\n- Generate handler payment reports
- Filter by handler, date range, payment status\n- Export to CSV/PDF\n
**Return Management**
- **Back Button:** Navigate back to Shipment List page
- Record returned shipments with reason (Customer Refused, Wrong Address, Damaged, Other)
- Update order status to reflect return
- Notify customer and initiate refund process
- Track return statistics by handler
- Generate return analysis reports

#### 3.12.8 Sales Reports and Analytics\n- **Back Button:** Navigate back to Admin Dashboard\n- Sales reports by product, category, and time period
- **Separate reports for Online Orders and In-Store Purchases**\n- **Combined sales overview with order type breakdown**
- Customer analytics and purchase trends
- Inventory turnover reports (with variant breakdown)
- **Vendor payment summary reports showing total amount paid to each vendor (including purchase order payments and manual payments from vendor_payments table)**
- **Shipping handler payment summary reports showing total amount paid to each handler**
- **Loyalty points analytics: Total points issued, redeemed, and outstanding**
- Return rate analysis
\n#### 3.12.9 Notification Management
- **Back Button:** Navigate back to Admin Dashboard
- View all system notifications sent to customers
- Filter by notification type, date range, delivery status
- Resend failed notifications
- Create and schedule promotional notifications
- Notification templates management
- Delivery statistics and open rates

#### 3.12.10 Chat Management Dashboard
- **Back Button:** Navigate back to Admin Dashboard
- Real-time chat queue with pending customer inquiries
- Assign chats to available support staff
- Monitor active chat sessions
- View chat history and transcripts
- Canned responses library for quick replies
- Chat performance metrics: Average response time, resolution rate, customer satisfaction scores
- Export chat logs for quality assurance

## 4. Business Goals\n
### 4.1 Sales Objectives
- Achieve defined sales targets\n- Customer acquisition and retention\n- Increase customer lifetime value through loyalty program
\n### 4.2 Marketing Strategies
- Package-based discount programs to encourage bulk purchases
- Promotional campaigns\n- Loyalty points incentives for repeat purchases
- Referral rewards program
\n### 4.3 Customer Engagement
- Real-time customer support through chat system
- Proactive notifications for order updates and promotions
- Product review and rating system to build trust and drive conversion rates
- Personalized recommendations based on purchase history

## 5. Technical Implementation Requirements

### 5.1 Database Schema Updates
\n#### 5.1.1 Products Table Enhancement
- **Added vendor_id column:**
  + Column Name: vendor_id
  + Data Type: INTEGER or UUID (depending on vendor ID format)
  + Foreign Key: References vendors table (vendor_id)
  + Purpose: Links each product with its supplier vendor
  + Nullable: No (every product must have an assigned vendor)
  + Index: Created for efficient querying of vendor-product relationships

#### 5.1.2 Vendor Payments Table Enhancement
- **Added purchase_order_id column:**
  + Column Name: purchase_order_id
  + Data Type: VARCHAR or UUID (depending on purchase order ID format)
  + Foreign Key: References purchase_orders table (purchase_order_id)
  + Purpose: Links payment records to specific purchase orders
  + Nullable: Yes (allows for manual payments not linked to purchase orders)
  + Index: Created for efficient querying of payments by purchase order

- **Added vendor_id column:**
  + Column Name: vendor_id
  + Data Type: INTEGER or UUID (matching vendors table)
  + Foreign Key: References vendors table (vendor_id)\n  + Purpose: Directly links payment records to vendor for faster queries
  + Nullable: No (every payment must be associated with a vendor)
  + Index: Created for efficient querying of payments by vendor

#### 5.1.3 Database Indexes
- **Index on products.vendor_id:** Optimizes queries for retrieving all products supplied by a specific vendor
- **Index on vendor_payments.purchase_order_id:** Optimizes queries for retrieving all payments for a specific purchase order
- **Index on vendor_payments.vendor_id:** Optimizes queries for retrieving all payments made to a specific vendor
- **Composite Index on vendor_payments (vendor_id, purchase_order_id):** Optimizes queries that filter by both vendor and purchase order

### 5.2 Type System Updates

#### 5.2.1 Product Interface Enhancement
```typescript
interface Product {
  product_id: string;
  product_name: string;
  category: string;
  vendor_id: number | string; // Added: Links product to vendor
  base_cost_price: number;
  selling_price: number;
  gst_percentage: number;
  image_url?: string;
  status: 'active' | 'inactive';
  created_at: Date;
  updated_at: Date;
}\n```

#### 5.2.2 VendorPayment Interface Enhancement
```typescript
interface VendorPayment {
  payment_id: string;
  vendor_id: number | string; // Added: Direct link to vendor
  purchase_order_id?: string; // Added: Optional link to purchase order
  payment_date: Date;
  amount_paid: number;
  payment_method: 'Cash' | 'Bank Transfer' | 'UPI' | 'Cheque' | 'Other';
  transaction_reference?: string;
  notes?: string;\n  recorded_by: string;
  created_at: Date;
}\n```

#### 5.2.3 VendorPaymentWithDetails Interface (New)
```typescript
interface VendorPaymentWithDetails extends VendorPayment {
  vendor_name: string;
  vendor_contact_person: string;
  purchase_order_number?: string;
  order_total_amount?: number;
  order_date?: Date;
}\n```

#### 5.2.4 ProductWithVariants Interface Enhancement
```typescript
interface ProductWithVariants extends Product {
  vendor_name: string; // Added: Vendor name for display
  vendor_contact_person: string; // Added: Vendor contact for reference
  variants: ProductVariant[];
}\n```

### 5.3 Frontend Components Development

#### 5.3.1 Loyalty Points Components (Priority3)
- **PointsBalance Component:** Display current points balance in header and user profile
- **PointsHistory Component:** Transaction history table with filters\n- **PointsRedemption Component:** Redemption interface during checkout
- **TierBadge Component:** Visual display of customer loyalty tier
- **PointsEarningCalculator Component:** Real-time calculation of points to be earned on current order

#### 5.3.2 Notification Components (Priority 2)
- **NotificationIcon Component:** Header icon with unread count badge
- **NotificationPanel Component:** Dropdown panel with notification list
- **NotificationItem Component:** Individual notification display with read/unread status
- **NotificationToast Component:** Pop-up alerts for real-time notifications
\n#### 5.3.3 Chat Components (Priority 2)
- **ChatWidget Component:** Floating chat icon and expandable chat window
- **ChatWindow Component:** Main chat interface with message list and input\n- **ChatMessage Component:** Individual message bubble with timestamp
- **ChatInput Component:** Text input with emoji picker
- **ChatHistory Component:** Previous conversations list in user profile
- **ChatAvailability Component:** Display support hours and offline message form

#### 5.3.4 Review Components\n- **ReviewForm Component:** Review submission form with star rating and photo upload
- **ReviewList Component:** Display reviews with sorting and filtering
- **ReviewItem Component:** Individual review display with helpful voting
- **RatingDistribution Component:** Visual chart showing rating breakdown
- **AverageRating Component:** Star visualization with average score
- **ConversionImpactIndicator Component:** Display conversion rate improvement metrics based on review presence and ratings

#### 5.3.5 Inventory Management Components (Enhanced)
- **CriticalStockDashboard Component:** Centralized view of all critical stock items across categories with variant breakdown
- **StockStatusBadge Component:** Visual indicator for stock levels (Red/Orange/Yellow/Green)
- **QuickReorderButton Component:** Direct link to create purchase order from critical stock dashboard
- **StockUpdateConfirmation Component:** Display confirmation message after automatic stock update from purchase order receipt
- **VariantSelector Component:** Dropdown selector for choosing variant when updating stock or receiving purchase orders

#### 5.3.6 Product and Category Management Components (Enhanced with Variant Logic)
- **ProductIDGenerator Component:** Auto-generates Product ID based on category selection with format [CATEGORY_PREFIX][SEQUENTIAL_NUMBER]
- **CategoryManagement Component:** Interface for adding, editing, and managing product categories
- **CategoryForm Component:** Form for creating new categories with name, prefix, packaging options, and discount policy
- **CategoryList Component:** Display all categories with product count and status, includes prominent Add Category button at the top
- **ProductForm Component (Enhanced with Variant Logic):** Enhanced product form with auto-generated Product ID field (read-only), category dropdown (selection only, no add category option), **base cost price input (₹/kg) entered only once**, **prominent vendor selection dropdown with search functionality**, and variant addition section\n- **VariantAddition Component (New with Updated Logic):** Component for adding product variants with the following features:
  + **Packaging Size Dropdown:** Select from available packaging options (1kg, 2kg, 5kg, 10kg, 200g, 500g, etc.)
  + **Auto-Weight Calculation:** Weight field automatically populates based on selected packaging size (read-only)
  + **Discount Percentage Input:** Optional input field for entering variant-specific discount percentage
  + **Initial Stock Quantity Input:** Input field for entering initial stock quantity for this variant
  + **Auto-Cost Calculation:** System automatically calculates cost price for variant using formula: Base Cost Price (₹/kg) × Variant Weight\n  + **Auto-Selling Price Calculation:** System automatically calculates selling price as (Cost Price +25%) and applies discount percentage if entered
  + **Final Price Display:** Shows calculated final price including GST
  + **Add Variant Button:** Saves variant with all calculated values\n  + **Variant List Table:** Displays all added variants with columns: Packaging Size, Weight, Discount %, Cost Price, Selling Price, Final Price (with GST), Stock Quantity, Actions (Edit/Delete)
- **VariantEdit Component (New):** Component for editing existing variants with same logic as VariantAddition, allows changing packaging size (which auto-updates weight), discount percentage, and stock quantity. Cost and selling prices auto-recalculate based on current base cost price.
- **VendorSelector Component (Enhanced):** **Prominent dropdown selector for choosing vendors with search functionality, positioned directly below Category field in product form. Includes 'Add New Vendor' button next to dropdown that opens inline vendor registration form. Displays selected vendor details (Contact Person, Phone, Email) below dropdown with'View Vendor Profile' link.**
- **InlineVendorForm Component (New):** Inline form for creating new vendors during product addition/editing, with fields for Vendor Name, Contact Person, Email, Phone, Address, Product Categories, Payment Terms, and GST Number. Includes 'Save Vendor' and 'Cancel' buttons.
\n#### 5.3.7 Vendor Management Components (Enhanced with Top-Level Add Vendor Button)
- **VendorList Component (Enhanced):** Display vendor list with prominent'Add Vendor' button at the top (similar to Add Category button), includes vendor name column in product list table\n- **VendorProfile Component:** Display complete vendor information with products supplied (retrieved using vendor_id from products table), transaction history, and financial summary
- **VendorTransactionHistory Component:** Tabbed interface showing All Purchase Orders, All Payments (retrieved from vendor_payments table using vendor_id and purchase_order_id), and Supply Details\n- **VendorFinancialSummary Component:** Dashboard displaying total purchase value, total paid (calculated from vendor_payments table), outstanding balance, and payment status indicator
- **PurchaseOrderPayment Component:** Dialog for recording payments against purchase orders with validation and automatic status updates. Saves payment to vendor_payments table with purchase_order_id and vendor_id.\n- **VendorPaymentTracker Component:** Real-time display of payment status and outstanding balance in purchase order details, calculated from vendor_payments table
- **AddVendorButton Component (New):** Prominent green button with plus icon at the top of Vendor List page, navigates to Add New Vendor page

#### 5.3.8 Navigation Components\n- **BackButton Component:** Reusable back button component for navigating between admin pages
- **Breadcrumb Component:** Display current page hierarchy for easy navigation (e.g., Admin Dashboard > Products > Inventory > Stock Status)
\n### 5.4 Header Integration
- Update header navigation to include notification icon and chat widget icon
- Implement responsive design for mobile devices
- Add real-time update functionality for notification count

### 5.5 Routes Configuration
- Add routes for loyalty points pages: /loyalty, /loyalty/history, /loyalty/redeem
- Add routes for notification pages: /notifications\n- Add routes for chat pages: /chat, /chat/history
- Update product detail route to include review section: /product/:id#reviews
- Add route for critical stock dashboard: /admin/inventory/critical-status
- **Add routes for category management: /admin/categories, /admin/categories/add, /admin/categories/edit/:id**
- **Add routes for variant management within product pages**
- **Add routes for vendor transaction history: /admin/vendors/:id/transactions**
- **Add route for purchase order payment recording: /admin/purchase-orders/:id/record-payment**
- **Add route for vendor management: /admin/vendors, /admin/vendors/add, /admin/vendors/edit/:id**
\n### 5.6 Integration Requirements
- Integrate review components into ProductDetail page
- Add chat widget to all customer-facing pages
- Connect notification system with order status updates
- Link loyalty points calculation with checkout process
- **Integrate automatic stock update functionality with purchase order receipt process, supporting variant-specific updates**
- **Connect Critical Stock Status Dashboard with inventory database for real-time updates with variant breakdown**
- **Integrate Product ID auto-generation with category selection in Add Product form**
- **Connect category management with product catalog to display custom categories**
- **Integrate variant addition and editing with automatic price calculation based on base cost price**
- **Implement automatic weight population when packaging size is selected in variant addition/editing**
- **Connect variant management with inventory management for separate stock tracking per variant**
- **Implement back button navigation across all admin pages for seamless page transitions**
- **Ensure Add Category functionality is only accessible via dedicated Add Category button in Category List page, not from product add/edit pages**
- **Integrate prominent vendor selection dropdown in product form with search functionality and inline vendor creation**
- **Display vendor name column in product list table with clickable links to vendor profile (retrieved using vendor_id from products table)**
- **Enable vendor filtering and sorting in product list view**
- **Connect vendor selection with product-vendor association in database by storing vendor_id in products table**\n- **Integrate'Add Vendor' button at top of Vendor List page (similar to Add Category button) for easy vendor creation**
- **Connect purchase order receipt process with vendor transaction tracking for automatic transaction record creation**
- **Integrate payment recording with vendor financial summary for real-time updates of total paid and outstanding balance (using vendor_payments table with vendor_id and purchase_order_id)**
- **Link purchase order payment status with vendor payment summary reports (calculated from vendor_payments table)**
- **Implement automatic cost and selling price recalculation for all variants when base cost price is changed in product editing**
- **Connect VendorPaymentWithDetails interface with frontend components to display complete payment information including vendor and purchase order details**
\n### 5.7 Testing Requirements
- End-to-end testing of loyalty points earning and redemption flow
- Notification delivery testing (in-app and email)\n- Chat functionality testing including real-time messaging
- Review submission and moderation workflow testing
- **Review conversion impact testing: Measure conversion rate differences between products with and without reviews**
- **Automatic stock update testing: Verify stock levels are correctly updated when purchase orders are marked as received, with separate tracking for each variant**
- **Critical stock dashboard testing: Ensure all products with critical stock levels are displayed accurately with variant breakdown**
- **Product ID auto-generation testing: Verify unique Product IDs are generated correctly for all categories including custom categories**
- **Category management testing: Test adding, editing, and deleting categories with validation for existing products**
- **Variant addition testing: Verify that weight auto-populates correctly when packaging size is selected, cost price is calculated from base cost price × weight, and selling price is calculated with discount applied**
- **Variant editing testing: Verify that changing packaging size auto-updates weight, and all prices recalculate correctly based on current base cost price**
- **Base cost price update testing: Verify that changing base cost price in product editing automatically recalculates cost and selling prices for all existing variants**
- **Variant stock tracking testing: Verify that stock quantities are recorded separately for each variant and updated correctly**
- **Back button navigation testing: Ensure back buttons work correctly across all admin pages without data loss**
- **Category addition workflow testing: Verify that categories can only be added via dedicated Add Category button in Category List page, and that product add/edit pages only allow category selection from existing categories**
- **Vendor selection UI testing: Verify that vendor dropdown appears prominently in product form, search functionality works correctly, and selected vendor details display properly**
- **Inline vendor creation testing: Verify that 'Add New Vendor' button opens inline form, new vendor is saved correctly, and automatically selected in dropdown**
- **Vendor display in product list testing: Verify that vendor name column displays correctly (retrieved using vendor_id from products table), is clickable, and links to vendor profile**
- **Vendor filtering and sorting testing: Verify that vendor filter dropdown works correctly and sorting by vendor name functions properly**
- **Top-level Add Vendor button testing: Verify that'Add Vendor' button is prominently displayed at top of Vendor List page and navigates to Add New Vendor page**
- **Purchase order receipt and vendor transaction tracking testing: Verify that marking products as received automatically creates transaction record in vendor profile with correct details**
- **Payment recording and vendor financial summary testing: Verify that recording payment against purchase order automatically updates vendor financial summary (total paid, outstanding balance, payment status) using vendor_payments table with vendor_id and purchase_order_id**
- **Purchase order payment status testing: Verify that payment status (Unpaid/Partially Paid/Fully Paid) updates correctly based on total payments made (calculated from vendor_payments table using purchase_order_id)**
- **Vendor payment summary report testing: Verify that report displays accurate combined totals from purchase orders and manual supply entries (using vendor_payments table with vendor_id)**
- **Database schema testing: Verify that vendor_id column in products table correctly links products to vendors, and purchase_order_id and vendor_id columns in vendor_payments table correctly track payment relationships**
- **Type system testing: Verify that Product interface includes vendor_id, VendorPayment interface includes purchase_order_id and vendor_id, and ProductWithVariants interface includes vendor information**
- Cross-browser and device compatibility testing
- Performance testing for real-time features
\n### 5.8 Documentation Requirements
- User guide for loyalty points system
- Customer support chat usage instructions
- Notification preferences configuration guide
- Product review submission guidelines
- **Review best practices guide: Tips for customers on writing helpful reviews that build trust and influence purchase decisions**
- Admin dashboard user manual for new features
- **Purchase order and automatic stock update workflow documentation with variant support**
- **Critical stock monitoring and reordering guide with variant breakdown**
- **Category management and Product ID auto-generation guide**
- **Variant addition and management guide: Instructions for adding variants with automatic weight population, discount percentage input, and automatic price calculations**
- **Base cost price management guide: Instructions for entering base cost price at product level and understanding how it affects all variant pricing**
- **Variant stock management guide: Instructions for tracking and updating stock levels separately for each variant**
- **Navigation and back button usage guide for admin users**
- **Category addition workflow guide: Instructions for adding categories via dedicated Add Category button, and clarification that product pages only allow category selection**
- **Vendor selection and assignment guide: Instructions for selecting vendors from dropdown during product creation/editing, using search functionality, and viewing vendor details**
- **Inline vendor creation guide: Step-by-step instructions for adding new vendors during product management using'Add New Vendor' button**
- **Vendor management guide: Instructions for adding vendors via top-level 'Add Vendor' button and managing vendor-product associations**
- **Product list vendor filtering guide: Instructions for filtering and sorting products by vendor name**
- **Purchase order management guide: Complete workflow from order creation to receipt, payment recording, and vendor transaction tracking**
- **Vendor transaction tracking guide: How to view complete transaction history including purchase orders, payments, and supply details in vendor profile**
- **Payment recording guide: Step-by-step instructions for recording payments against purchase orders and understanding automatic updates to vendor financial summary**
- **Database schema documentation: Detailed explanation of vendor_id column in products table, purchase_order_id and vendor_id columns in vendor_payments table, and database indexes**
- **Type system documentation: Explanation of updated Product, VendorPayment, VendorPaymentWithDetails, and ProductWithVariants interfaces**
- API documentation for chat and notification systems
\n##6. Design Style\n
### 6.1 Color Scheme
- Primary colors: Fresh green (#4CAF50) and earthy brown (#8D6E63) to reflect organic and natural theme
- Secondary colors: Soft cream (#FFF8E1) for backgrounds, warm orange (#FF9800) for call-to-action buttons\n- Accent colors: Gold (#FFD700) for loyalty tier badges, blue (#2196F3) for notification badges
- **Stock status colors: Red (#F44336) for Out of Stock, Orange (#FF9800) for Critical, Yellow (#FFC107) for Low Stock, Green (#4CAF50) for In Stock**
- **Navigation colors: Light grey (#E0E0E0) for back buttons, dark grey (#424242) for breadcrumb text**
- **Payment status colors: Red (#F44336) for Unpaid, Orange (#FF9800) for Partially Paid, Green (#4CAF50) for Fully Paid**
- **Vendor UI colors: Green (#4CAF50) for Add Vendor button, blue (#2196F3) for vendor dropdown highlight**
- **Review rating colors: Gold (#FFD700) for star ratings, green (#4CAF50) for verified purchase badges**
\n### 6.2 Layout\n- Card-based layout for product display with clear visual hierarchy
- Grid system for product catalog with responsive design
- Clean navigation with prominent search bar and category filters
- Floating chat widget positioned at bottom-right corner
- Notification panel as dropdown from header icon
- **Critical Stock Dashboard with prominent placement in admin inventory section**
- **Back buttons positioned at top-left of each admin page for easy navigation**
- **Breadcrumb navigation below header for page hierarchy display**
- **Add Category button prominently displayed at the top of Category List page**
- **Add Vendor button prominently displayed at the top of Vendor List page (similar to Add Category button)**
- **Vendor selection dropdown positioned directly below Category field in product form with prominent placement**
- **Variant addition section positioned below vendor selection with clear visual separation**
- **Variant list table displayed below variant addition form showing all added variants**
- **Vendor name column in product list table positioned after Category column for easy visibility**
- **Vendor transaction history displayed in tabbed interface for easy navigation**
- **Payment recording dialog with clear validation messages and real-time balance calculation**
- **Review section prominently displayed on product detail page with average rating at top**
\n### 6.3 Visual Elements
- Rounded corners (8px radius) for cards and buttons for a friendly, approachable feel
- Subtle shadows (0-2px 8px rgba(0,0,0,0.1)) to create depth\n- Nature-inspired icons with line-style design
- Smooth hover transitions (0.3s ease) for interactive elements
- Badge indicators for notifications and loyalty tiers with contrasting colors
- Star rating visualization with gold color (#FFD700)\n- **Color-coded stock status badges with clear visual distinction**
- **Back button icon: Left arrow with text label**
- **Breadcrumb separator: Right arrow (>) between page names**
- **Add Category button: Prominent green button with plus icon**\n- **Add Vendor button: Prominent green button with plus icon (matching Add Category button style)**
- **Vendor dropdown: Searchable dropdown with vendor icon, displays vendor name and contact person**
- **Add New Vendor button: Secondary button with plus icon next to vendor dropdown**
- **Vendor details display: Read-only text fields with light grey background showing Contact Person, Phone, Email**
- **View Vendor Profile link: Blue underlined link with external link icon**
- **Vendor column in product table: Clickable vendor name with hover underline effect**
- **Variant addition form: Clean form layout with auto-populated fields highlighted in light blue**
- **Variant list table: Striped rows for easy reading, edit/delete icons on hover**
- **Payment status badges with color-coded indicators (Red/Orange/Green)**
- **Transaction history tabs with active tab highlighting**
- **Review stars: Interactive star icons with hover effects, filled gold stars for ratings**
- **Verified purchase badge: Green checkmark icon with 'Verified Purchase' text**
- **Helpful voting buttons: Thumbs up/down icons with vote count display**
\n### 6.4 Typography
- Clean, readable sans-serif fonts for easy navigation and product information display
- Font hierarchy: Headings (18-24px bold), body text (14-16px regular), small text (12px for timestamps and metadata)
- **Breadcrumb text: 14px regular with hover underline effect**
- **Vendor dropdown text: 14px regular with bold vendor name**
- **Vendor details text: 12px regular for contact information**
- **Variant form labels: 14px bold for field labels**
- **Auto-calculated fields: 14px regular with light blue background to indicate read-only**
- **Payment amount display: 16px bold for emphasis**
- **Outstanding balance display: 16px bold with color-coded text (red for unpaid, orange for partial, green for fully paid)**
- **Review text: 14px regular for review content, 16px bold for reviewer name**
- **Rating display: 18px for average rating number, 14px for review count**
\n## 7. Comprehensive Test Plan for Core E-commerce Features

### 7.1 Test Plan Overview

**Purpose:** This test plan systematically validates the core e-commerce functionality of Srilaya Enterprises Organic Store, ensuring seamless customer experience from product discovery to payment completion.

**Scope:** Product Catalog, Shopping Cart, Checkout Process, Payment Gateway Integration\n
**Test Environment:**
- Browsers: Chrome (latest), Firefox (latest), Safari (latest), Edge (latest)
- Devices: Desktop (Windows/Mac), Mobile (iOS/Android), Tablet (iOS/Android)
- Test Data: Sample products from all categories (Rice, Flour, Flakes, Millets, Honey, Custom Categories)
- Test Users: Guest users, Registered customers, Admin users

**Test Approach:**
- Functional Testing: Verify all features work as specified\n- Integration Testing: Validate interactions between modules
- UI/UX Testing: Ensure intuitive and responsive design
- Performance Testing: Validate page load times and responsiveness
- Security Testing: Verify secure data handling and payment processing
- Cross-browser/Device Testing: Ensure compatibility across platforms
\n---

### 7.2 Product Catalog Testing

#### 7.2.1 Product Listing and Display
\n**Test Case PC-001: Verify Product Catalog Page Load**
- **Objective:** Ensure product catalog page loads correctly with all products displayed
- **Preconditions:** Database contains products from all categories
- **Test Steps:**
  1. Navigate to product catalog page
  2. Verify page loads within 3 seconds
  3. Verify all product cards display correctly with image, name, price, and 'Add to Cart' button
  4. Verify pagination controls appear if products exceed 20 per page
- **Expected Results:**
  + Page loads successfully
  + All products display with correct information
  + Images load properly
  + Pagination works correctly
- **Priority:** High

**Test Case PC-002: Verify Category Navigation**
- **Objective:** Validate category filtering functionality
- **Test Steps:**
  1. Click on 'Rice' category in navigation menu
  2. Verify only rice products are displayed
  3. Repeat for all categories (Flour, Flakes, Millets, Honey, Custom Categories)
  4. Verify product count matches category filter
- **Expected Results:**\n  + Category filter displays only relevant products
  + Product count is accurate
  + URL updates to reflect selected category
- **Priority:** High

**Test Case PC-003: Verify Search Functionality**
- **Objective:** Test product search with various inputs
- **Test Steps:**\n  1. Enter 'Foxtail' in search bar
  2. Verify search results display all products containing 'Foxtail' (Foxtail rice, Foxtail flour, Foxtail flakes)\n  3. Test partial search: Enter 'Ragi'\n  4. Test search with no results: Enter 'XYZ123'
  5. Test search with special characters\n- **Expected Results:**
  + Search returns relevant products
  + Partial matches are included
  + No results message displays appropriately
  + Special characters are handled gracefully
- **Priority:** High

**Test Case PC-004: Verify Price Filter**
- **Objective:** Validate price range filtering
- **Test Steps:**
  1. Set price range filter to ₹50-₹100
  2. Verify only products within price range are displayed
  3. Test minimum price only filter
  4. Test maximum price only filter
  5. Test invalid price range (max < min)
- **Expected Results:**
  + Products displayed match selected price range
  + Invalid ranges show error message
  + Filter resets correctly
- **Priority:** Medium

**Test Case PC-005: Verify Packaging Size Filter**
- **Objective:** Test filtering by packaging options
- **Test Steps:**\n  1. Select '1kg' packaging filter
  2. Verify only products with 1kg variant are displayed
  3. Select multiple packaging sizes (1kg + 5kg)
  4. Verify products with either packaging option are shown
  5. Test honey-specific packaging filters (200g, 500g)\n- **Expected Results:**
  + Filter displays products with selected packaging sizes
  + Multiple selections work correctly
  + Category-specific packaging options display appropriately
- **Priority:** Medium

**Test Case PC-006: Verify Product Detail Page**
- **Objective:** Validate product detail page displays complete information
- **Test Steps:**
  1. Click on a product card to open detail page
  2. Verify product image, name, description, and pricing information display
  3. Verify variant selector (packaging sizes) is present
  4. Verify GST breakdown is shown
  5. Verify package discount information displays for applicable variants
  6. Verify 'Add to Cart' button is functional
  7. Verify product reviews section displays (if reviews exist)
- **Expected Results:**
  + All product information displays correctly
  + Variant selector shows available packaging options
  + Pricing calculations are accurate
  + Reviews section loads properly
- **Priority:** High

**Test Case PC-007: Verify Product Image Display**
- **Objective:** Test product image loading and quality
- **Test Steps:**\n  1. Verify product images load on catalog page
  2. Verify image quality is appropriate (not pixelated)
  3. Test image zoom functionality on product detail page
  4. Verify placeholder image displays if product image is missing
  5. Test image loading on slow network connection
- **Expected Results:**\n  + Images load correctly
  + Image quality is acceptable
  + Zoom functionality works smoothly
  + Placeholder displays for missing images
- **Priority:** Medium

**Test Case PC-008: Verify Autocomplete Suggestions**
- **Objective:** Test search autocomplete functionality
- **Test Steps:**
  1. Start typing 'Barn' in search bar
  2. Verify autocomplete suggestions appear (Barnyard rice, Barnyard flour, Barnyard flakes)
  3. Click on a suggestion\n  4. Verify search executes with selected suggestion
  5. Test autocomplete with no matching results
- **Expected Results:**
  + Autocomplete suggestions display relevant products
  + Clicking suggestion executes search
  + No suggestions message displays appropriately
- **Priority:** Low

---

### 7.3 Shopping Cart Testing

#### 7.3.1 Add to Cart Functionality

**Test Case SC-001: Verify Add to Cart from Product Catalog**
- **Objective:** Test adding products to cart from catalog page
- **Test Steps:**\n  1. Click 'Add to Cart' button on a product card
  2. Verify cart icon updates with item count
  3. Verify success notification displays
  4. Add same product again\n  5. Verify quantity increments instead of adding duplicate entry
- **Expected Results:**\n  + Product is added to cart
  + Cart count updates correctly
  + Success message displays
  + Duplicate products increment quantity
- **Priority:** High\n
**Test Case SC-002: Verify Add to Cart from Product Detail Page**
- **Objective:** Test adding products with variant selection
- **Test Steps:**
  1. Open product detail page
  2. Select packaging size variant (e.g., 5kg)
  3. Enter quantity (e.g., 2)
  4. Click 'Add to Cart'\n  5. Verify cart displays correct variant and quantity
  6. Verify package discount is applied if applicable
- **Expected Results:**
  + Selected variant is added to cart
  + Quantity is correct
  + Package discount is calculated correctly
- **Priority:** High

**Test Case SC-003: Verify Cart Icon and Badge**
- **Objective:** Validate cart icon displays correct item count
- **Test Steps:**
  1. Add 3 different products to cart
  2. Verify cart badge shows '3'\n  3. Add 2 more of an existing product
  4. Verify cart badge updates to '5'
  5. Remove1 product\n  6. Verify cart badge updates to '4'
- **Expected Results:**
  + Cart badge displays accurate item count
  + Badge updates in real-time
- **Priority:** Medium

**Test Case SC-004: Verify Cart Page Display**
- **Objective:** Test cart page layout and information display
- **Test Steps:**
  1. Add multiple products to cart
  2. Navigate to cart page
  3. Verify all cart items display with image, name, variant, quantity, price\n  4. Verify subtotal, discount, GST, and total are calculated correctly
  5. Verify'Continue Shopping' and 'Proceed to Checkout' buttons are present
- **Expected Results:**\n  + Cart page displays all items correctly
  + Pricing calculations are accurate
  + Navigation buttons work properly
- **Priority:** High

#### 7.3.2 Cart Modification\n
**Test Case SC-005: Verify Update Quantity in Cart**
- **Objective:** Test quantity modification functionality
- **Test Steps:**\n  1. Open cart page
  2. Increase quantity of a product using '+' button
  3. Verify quantity updates and total price recalculates
  4. Decrease quantity using '-' button
  5. Verify quantity updates and total price recalculates
  6. Manually enter quantity in input field
  7. Verify quantity updates correctly
- **Expected Results:**\n  + Quantity updates successfully
  + Price recalculates accurately
  + Manual input is validated (no negative or zero values)
- **Priority:** High

**Test Case SC-006: Verify Remove Item from Cart**
- **Objective:** Test item removal functionality
- **Test Steps:**\n  1. Add 3 products to cart
  2. Click 'Remove' button on one product
  3. Verify confirmation dialog appears
  4. Confirm removal\n  5. Verify product is removed from cart
  6. Verify cart total updates\n  7. Verify cart badge updates
- **Expected Results:**
  + Confirmation dialog displays
  + Product is removed successfully
  + Cart totals and badge update correctly
- **Priority:** High

**Test Case SC-007: Verify Clear Cart**
- **Objective:** Test clearing all items from cart
- **Test Steps:**
  1. Add multiple products to cart
  2. Click 'Clear Cart' button\n  3. Verify confirmation dialog appears
  4. Confirm clear action
  5. Verify cart is empty
  6. Verify 'Your cart is empty' message displays
- **Expected Results:**
  + Confirmation dialog displays
  + All items are removed
  + Empty cart message displays
- **Priority:** Medium

**Test Case SC-008: Verify Cart Persistence**
- **Objective:** Test cart data persistence across sessions
- **Test Steps:**\n  1. Add products to cart as guest user
  2. Close browser
  3. Reopen browser and navigate to website
  4. Verify cart items are retained
  5. Login as registered user
  6. Verify cart items are merged with user's saved cart
- **Expected Results:**
  + Guest cart persists using local storage/cookies
  + Registered user cart syncs with database
  + Cart merge works correctly on login
- **Priority:** Medium

#### 7.3.3 Cart Calculations

**Test Case SC-009: Verify Package Discount Calculation**
- **Objective:** Validate package-based discount application
- **Test Steps:**\n  1. Add 1kg rice product to cart (no discount)
  2. Verify no discount is applied
  3. Add 5kg rice product to cart (2% discount)
  4. Verify 2% discount is applied to5kg product only
  5. Add 10kg flour product to cart (3% discount)
  6. Verify 3% discount is applied to 10kg product only
  7. Verify subtotal and total calculations are correct
- **Expected Results:**
  + Discounts are applied correctly based on packaging size
  + Discount percentages match policy (2% for 5kg, 3% for 10kg)
  + Calculations are accurate
- **Priority:** High

**Test Case SC-010: Verify GST Calculation**
- **Objective:** Test GST calculation for different products
- **Test Steps:**
  1. Add products with different GST rates to cart
  2. Verify GST is calculated correctly for each product
  3. Verify total GST is sum of individual product GST amounts
  4. Verify GST breakdown displays in cart summary
- **Expected Results:**\n  + GST is calculated accurately per product
  + Total GST is correct
  + GST breakdown is clear and accurate
- **Priority:** High

**Test Case SC-011: Verify Cart Total Calculation**
- **Objective:** Validate overall cart total calculation
- **Test Steps:**
  1. Add multiple products with different variants to cart
  2. Verify subtotal = sum of (product price × quantity) for all items
  3. Verify discount = sum of package discounts\n  4. Verify GST = sum of GST for all items
  5. Verify total = subtotal - discount + GST
  6. Manually calculate and compare with displayed total
- **Expected Results:**
  + All calculations are mathematically correct
  + Displayed totals match manual calculations
- **Priority:** High

**Test Case SC-012: Verify Honey Product Discount**
- **Objective:** Test honey-specific discount policy
- **Test Steps:**\n  1. Add 200g honey product to cart (no discount)
  2. Verify no discount is applied
  3. Add 500g honey product to cart (2% discount)
  4. Verify 2% discount is applied\n  5. Add 1kg honey product to cart (3% discount)
  6. Verify 3% discount is applied
- **Expected Results:**
  + Honey products follow separate discount policy
  + Discounts are applied correctly (2% for 500g, 3% for 1kg)
- **Priority:** Medium

---

### 7.4 Checkout Process Testing

#### 7.4.1 Order Type Selection

**Test Case CO-001: Verify Order Type Selection**
- **Objective:** Test order type selection (Online Order / In-Store Purchase)
- **Test Steps:**\n  1. Proceed to checkout from cart
  2. Verify order type selection checkbox is present
  3. Select'Online Order'\n  4. Verify delivery address fields appear
  5. Verify shipping charges section appears
  6. Select 'In-Store Purchase'
  7. Verify delivery address fields are hidden
  8. Verify shipping charges section is hidden
- **Expected Results:**
  + Order type selection is clear and functional
  + Delivery fields display/hide based on selection
  + Shipping charges apply only to online orders
- **Priority:** High

**Test Case CO-002: Verify Guest Checkout**
- **Objective:** Test checkout as guest user
- **Test Steps:**
  1. Add products to cart as guest\n  2. Proceed to checkout
  3. Verify option to checkout as guest is available
  4. Enter required information (name, email, phone)
  5. Complete checkout\n  6. Verify order confirmation is received
- **Expected Results:**
  + Guest checkout is available
  + Required fields are validated
  + Order is processed successfully
- **Priority:** High

**Test Case CO-003: Verify Registered User Checkout**
- **Objective:** Test checkout for logged-in users
- **Test Steps:**\n  1. Login as registered user
  2. Add products to cart
  3. Proceed to checkout
  4. Verify user information is pre-filled
  5. Verify saved delivery addresses are available for selection
  6. Complete checkout
- **Expected Results:**
  + User information is auto-populated
  + Saved addresses are accessible
  + Checkout process is streamlined
- **Priority:** High

#### 7.4.2 Delivery Address Management

**Test Case CO-004: Verify Delivery Address Input (Online Order)**
- **Objective:** Test delivery address entry for online orders
- **Test Steps:**
  1. Select 'Online Order' as order type
  2. Enter delivery address (Street, City, State, Pincode)
  3. Verify all fields are required
  4. Test with invalid pincode format
  5. Test with missing fields
  6. Enter valid address and proceed
- **Expected Results:**\n  + All address fields are validated
  + Invalid inputs show error messages
  + Valid address is accepted
- **Priority:** High\n
**Test Case CO-005: Verify Saved Address Selection**
- **Objective:** Test selecting from saved addresses
- **Test Steps:**
  1. Login as user with saved addresses
  2. Proceed to checkout for online order
  3. Verify saved addresses display in dropdown
  4. Select a saved address
  5. Verify address fields auto-populate
  6. Verify option to add new address is available
- **Expected Results:**
  + Saved addresses display correctly
  + Selected address auto-fills fields
  + New address option is available
- **Priority:** Medium

**Test Case CO-006: Verify Delivery Location Detection**
- **Objective:** Test intrastate vs interstate delivery detection
- **Test Steps:**
  1. Enter delivery address in same state as store
  2. Verify system detects intrastate delivery
  3. Verify shipping charges are calculated at₹30-50/kg
  4. Enter delivery address in different state
  5. Verify system detects interstate delivery
  6. Verify shipping charges are calculated at ₹70-100/kg
- **Expected Results:**
  + System correctly identifies delivery location type
  + Shipping charges are calculated based on location
- **Priority:** High

#### 7.4.3 Shipping Charges Calculation
\n**Test Case CO-007: Verify Shipping Charges for Intrastate Delivery**
- **Objective:** Test shipping cost calculation for same-state delivery
- **Test Steps:**
  1. Add products with total weight of 5kg to cart
  2. Select online order with intrastate delivery address
  3. Verify shipping charges are calculated at ₹30-50/kg
  4. Verify total shipping cost is between ₹150-₹250(5kg ×₹30-50)
  5. Verify shipping charges are added to order total
- **Expected Results:**
  + Shipping charges are calculated correctly
  + Rate is within₹30-50/kg range
  + Charges are added to total\n- **Priority:** High

**Test Case CO-008: Verify Shipping Charges for Interstate Delivery**
- **Objective:** Test shipping cost calculation for different-state delivery
- **Test Steps:**
  1. Add products with total weight of 3kg to cart
  2. Select online order with interstate delivery address\n  3. Verify shipping charges are calculated at ₹70-100/kg
  4. Verify total shipping cost is between ₹210-₹300 (3kg × ₹70-100)
  5. Verify shipping charges are added to order total
- **Expected Results:**
  + Shipping charges are calculated correctly
  + Rate is within ₹70-100/kg range
  + Charges are added to total
- **Priority:** High

**Test Case CO-009: Verify No Shipping Charges for In-Store Purchase**
- **Objective:** Validate no shipping charges for in-store orders
- **Test Steps:**\n  1. Add products to cart
  2. Select 'In-Store Purchase' as order type
  3. Proceed to checkout
  4. Verify shipping charges section does not appear
  5. Verify order total does not include shipping charges
- **Expected Results:**
  + No shipping charges are applied
  + Order total excludes shipping costs
- **Priority:** High

#### 7.4.4 Order Summary and Review

**Test Case CO-010: Verify Order Summary Display**
- **Objective:** Test order summary before payment
- **Test Steps:**\n  1. Proceed to final checkout step
  2. Verify order summary displays all cart items
  3. Verify product names, variants, quantities, and prices are correct
  4. Verify subtotal, package discount (with %), GST, shipping charges (if applicable), and grand total are displayed
  5. Verify order type (Online Order / In-Store Purchase) is clearly indicated
- **Expected Results:**
  + Order summary is complete and accurate
  + All pricing components are displayed
  + Order type is clearly shown
- **Priority:** High\n
**Test Case CO-011: Verify Edit Cart from Checkout**
- **Objective:** Test ability to modify cart during checkout
- **Test Steps:**
  1. Proceed to checkout
  2. Click 'Edit Cart' or 'Back to Cart' button
  3. Verify user is redirected to cart page
  4. Modify cart (add/remove items, change quantities)
  5. Return to checkout
  6. Verify order summary reflects cart changes
- **Expected Results:**
  + User can navigate back to cart
  + Cart modifications are reflected in checkout
- **Priority:** Medium

**Test Case CO-012: Verify Loyalty Points Display (If Applicable)**
- **Objective:** Test loyalty points information during checkout
- **Test Steps:**
  1. Login as user with loyalty points
  2. Proceed to checkout
  3. Verify current points balance is displayed
  4. Verify points to be earned from current order are shown
  5. Verify option to redeem points is available (if balance≥ 500points)
- **Expected Results:**
  + Points balance displays correctly
  + Points earning calculation is accurate
  + Redemption option is available when eligible
- **Priority:** Low (Priority 3feature)

---
\n### 7.5 Payment Gateway Testing

#### 7.5.1 Payment Method Selection

**Test Case PG-001: Verify Payment Method Options**
- **Objective:** Test availability of payment methods\n- **Test Steps:**
  1. Proceed to payment step in checkout
  2. Verify payment method options are displayed
  3. Verify options include: Credit/Debit Card, UPI, Net Banking, Digital Wallets\n  4. Select each payment method\n  5. Verify appropriate payment form/interface loads
- **Expected Results:**\n  + All payment methods are available
  + Payment forms load correctly for each method
- **Priority:** High

**Test Case PG-002: Verify Credit/Debit Card Payment Form**
- **Objective:** Test card payment form fields and validation
- **Test Steps:**
  1. Select 'Credit/Debit Card' payment method
  2. Verify form fields: Card Number, Cardholder Name, Expiry Date, CVV
  3. Test with invalid card number
  4. Test with expired card
  5. Test with invalid CVV
  6. Enter valid card details
- **Expected Results:**
  + All fields are present and validated
  + Invalid inputs show error messages
  + Valid card details are accepted
- **Priority:** High

**Test Case PG-003: Verify UPI Payment**
- **Objective:** Test UPI payment flow
- **Test Steps:**\n  1. Select 'UPI' payment method
  2. Verify UPI ID input field appears
  3. Enter valid UPI ID (e.g., user@paytm)
  4. Verify UPI ID format validation
  5. Proceed with payment
  6. Verify UPI payment request is initiated
- **Expected Results:**\n  + UPI ID field is validated
  + Payment request is sent correctly
- **Priority:** High\n
**Test Case PG-004: Verify Net Banking Payment**
- **Objective:** Test net banking payment flow
- **Test Steps:**
  1. Select 'Net Banking' payment method
  2. Verify bank selection dropdown appears
  3. Select a bank from dropdown
  4. Proceed with payment
  5. Verify redirect to bank's payment gateway
- **Expected Results:**
  + Bank selection is available
  + Redirect to bank gateway works correctly
- **Priority:** High\n
**Test Case PG-005: Verify Digital Wallet Payment**
- **Objective:** Test digital wallet payment options
- **Test Steps:**\n  1. Select 'Digital Wallet' payment method
  2. Verify wallet options (Paytm, PhonePe, Google Pay, etc.) are displayed
  3. Select a wallet
  4. Proceed with payment
  5. Verify redirect to wallet app/interface
- **Expected Results:**\n  + Wallet options are available
  + Redirect to wallet works correctly
- **Priority:** High

#### 7.5.2 Payment Processing\n
**Test Case PG-006: Verify Successful Payment Processing**
- **Objective:** Test successful payment completion
- **Test Steps:**\n  1. Complete checkout with valid payment details
  2. Submit payment\n  3. Verify payment processing indicator displays
  4. Verify redirect to order confirmation page
  5. Verify order confirmation message displays
  6. Verify order ID is generated and displayed
- **Expected Results:**\n  + Payment processes successfully
  + Order confirmation page loads
  + Order ID is displayed
- **Priority:** High\n
**Test Case PG-007: Verify Failed Payment Handling**
- **Objective:** Test payment failure scenarios
- **Test Steps:**
  1. Attempt payment with insufficient funds (test card)\n  2. Verify payment failure message displays
  3. Verify user is redirected back to payment page
  4. Verify cart items are retained
  5. Verify option to retry payment is available
- **Expected Results:**
  + Payment failure is handled gracefully
  + Error message is clear
  + User can retry payment
- **Priority:** High

**Test Case PG-008: Verify Payment Timeout Handling**
- **Objective:** Test payment gateway timeout scenarios
- **Test Steps:**
  1. Initiate payment\n  2. Simulate payment gateway timeout (do not complete payment within time limit)
  3. Verify timeout message displays
  4. Verify user is redirected back to payment page
  5. Verify cart is retained
- **Expected Results:**
  + Timeout is handled properly
  + User can retry payment
- **Priority:** Medium

**Test Case PG-009: Verify Payment Cancellation**
- **Objective:** Test user-initiated payment cancellation
- **Test Steps:**
  1. Initiate payment
  2. Click 'Cancel' or 'Back' during payment process
  3. Verify cancellation confirmation dialog appears
  4. Confirm cancellation
  5. Verify user is redirected back to checkout
  6. Verify cart is retained
- **Expected Results:**
  + Cancellation is handled correctly
  + User can resume checkout
- **Priority:** Medium

#### 7.5.3 Payment Confirmation and Receipt

**Test Case PG-010: Verify Payment Confirmation Email**
- **Objective:** Test payment confirmation email delivery
- **Test Steps:**\n  1. Complete successful payment
  2. Verify payment confirmation email is sent to customer email
  3. Verify email contains: Order ID, Order details, Payment amount, Payment method, Transaction reference
  4. Verify email is formatted correctly
- **Expected Results:**
  + Confirmation email is sent immediately
  + Email contains all required information
- **Priority:** High

**Test Case PG-011: Verify Receipt Generation**
- **Objective:** Test payment receipt generation
- **Test Steps:**
  1. Complete successful payment
  2. Verify receipt is generated automatically
  3. Verify receipt contains: Order ID, Date, Customer details, Product list, Payment details, Total amount
  4. Verify receipt can be downloaded as PDF
  5. Verify receipt can be printed
- **Expected Results:**
  + Receipt is generated correctly
  + All information is accurate
  + Download and print functions work
- **Priority:** High

**Test Case PG-012: Verify Invoice Generation**
- **Objective:** Test invoice generation with all pricing components
- **Test Steps:**
  1. Complete successful payment for online order
  2. Verify invoice is generated\n  3. Verify invoice displays: Order Type (Online Order), Product list with variants, Subtotal, Package discount (with %), GST breakdown, Shipping charges (with delivery type), Grand total
  4. Verify invoice can be downloaded\n  5. Repeat for in-store purchase
  6. Verify in-store invoice excludes shipping charges
- **Expected Results:**
  + Invoice is generated correctly for both order types
  + All pricing components are accurate
  + Download function works
- **Priority:** High

#### 7.5.4 Payment Security

**Test Case PG-013: Verify Secure Payment Connection**
- **Objective:** Test SSL/TLS encryption for payment pages
- **Test Steps:**\n  1. Navigate to payment page
  2. Verify URL starts with 'https://'
  3. Verify SSL certificate is valid
  4. Verify browser security indicator (padlock icon) is present
  5. Verify no mixed content warnings
- **Expected Results:**
  + Payment pages use HTTPS
  + SSL certificate is valid
  + No security warnings\n- **Priority:** High

**Test Case PG-014: Verify Payment Data Encryption**
- **Objective:** Test encryption of sensitive payment data
- **Test Steps:**
  1. Enter payment details
  2. Inspect network traffic (using browser dev tools)
  3. Verify payment data is encrypted in transit
  4. Verify card details are not stored in plain text
  5. Verify CVV is not stored\n- **Expected Results:**
  + Payment data is encrypted
  + Sensitive data is not stored insecurely
- **Priority:** High

**Test Case PG-015: Verify PCI DSS Compliance**
- **Objective:** Validate PCI DSS compliance for card payments
- **Test Steps:**\n  1. Verify payment gateway is PCI DSS certified
  2. Verify card data is tokenized
  3. Verify no card data is stored on application servers
  4. Verify payment forms use secure iframes
- **Expected Results:**
  + Payment gateway is PCI DSS compliant
  + Card data handling follows security standards
- **Priority:** High

---

### 7.6 Cross-Functional Integration Testing

#### 7.6.1 End-to-End User Journey

**Test Case INT-001: Complete Purchase Flow (Online Order)**
- **Objective:** Test complete user journey from product discovery to payment
- **Test Steps:**
  1. Browse product catalog
  2. Search for specific product
  3. View product details
  4. Add product to cart with variant selection
  5. View cart and update quantities
  6. Proceed to checkout
  7. Select'Online Order'\n  8. Enter delivery address
  9. Review order summary with shipping charges
  10. Complete payment
  11. Verify order confirmation
  12. Verify confirmation email
- **Expected Results:**
  + Complete flow works seamlessly
  + All data is retained across steps
  + Order is processed successfully
- **Priority:** Critical

**Test Case INT-002: Complete Purchase Flow (In-Store Purchase)**
- **Objective:** Test complete flow for in-store purchase
- **Test Steps:**\n  1. Browse product catalog\n  2. Add products to cart
  3. Proceed to checkout
  4. Select 'In-Store Purchase'\n  5. Verify no delivery address or shipping charges
  6. Review order summary
  7. Complete payment
  8. Verify order confirmation
  9. Verify order status is'Completed'
- **Expected Results:**\n  + In-store purchase flow works correctly
  + No shipping-related fields appear
  + Order is marked as completed immediately
- **Priority:** Critical\n
**Test Case INT-003: Guest to Registered User Conversion**
- **Objective:** Test cart retention when guest user registers
- **Test Steps:**\n  1. Add products to cart as guest
  2. Proceed to checkout\n  3. Choose to register account during checkout
  4. Complete registration\n  5. Verify cart items are retained
  6. Complete checkout as registered user
- **Expected Results:**
  + Cart items are preserved during registration
  + Checkout continues seamlessly
- **Priority:** Medium

#### 7.6.2 Data Consistency Testing

**Test Case INT-004: Verify Inventory Update After Purchase**
- **Objective:** Test inventory deduction after successful order
- **Test Steps:**\n  1. Note current stock level of a product variant
  2. Purchase that product variant
  3. Complete payment
  4. Verify stock level is reduced by purchased quantity
  5. Verify stock status updates if threshold is reached
- **Expected Results:**\n  + Inventory is updated correctly
  + Stock status reflects current levels
- **Priority:** High\n
**Test Case INT-005: Verify Order History Update**
- **Objective:** Test order appears in customer order history
- **Test Steps:**
  1. Complete a purchase as registered user
  2. Navigate to 'My Orders' page
  3. Verify new order appears in order history
  4. Verify order details are correct
  5. Verify order type (Online/In-Store) is displayed
- **Expected Results:**\n  + Order appears in history immediately
  + All order details are accurate
- **Priority:** High

**Test Case INT-006: Verify Loyalty Points Credit (If Applicable)**
- **Objective:** Test loyalty points are credited after purchase
- **Test Steps:**
  1. Note current loyalty points balance
  2. Complete a purchase worth₹500
  3. Verify order confirmation
  4. Verify5loyalty points are credited (1 point per ₹100)\n  5. Verify points balance updates in user profile
- **Expected Results:**
  + Points are calculated correctly
  + Points are credited after order completion
- **Priority:** Low (Priority 3 feature)

---

### 7.7 Performance and Load Testing

**Test Case PERF-001: Verify Page Load Times**
- **Objective:** Test page load performance\n- **Test Steps:**
  1. Measure load time for product catalog page
  2. Measure load time for product detail page
  3. Measure load time for cart page
  4. Measure load time for checkout page
  5. Verify all pages load within 3seconds on standard connection
- **Expected Results:**\n  + All pages load within acceptable time limits
- **Priority:** High

**Test Case PERF-002: Verify Concurrent User Handling**
- **Objective:** Test system performance under load
- **Test Steps:**
  1. Simulate 100 concurrent users browsing catalog
  2. Simulate 50 concurrent users adding to cart
  3. Simulate 25 concurrent users completing checkout
  4. Monitor system response times
  5. Verify no errors or timeouts occur
- **Expected Results:**\n  + System handles concurrent users without degradation
  + Response times remain acceptable
- **Priority:** Medium\n
**Test Case PERF-003: Verify Payment Gateway Response Time**
- **Objective:** Test payment processing speed
- **Test Steps:**\n  1. Initiate payment
  2. Measure time from payment submission to confirmation
  3. Verify payment processes within 10 seconds
  4. Test with different payment methods
- **Expected Results:**
  + Payment processing is fast and reliable
- **Priority:** High

---

### 7.8 Mobile and Responsive Testing

**Test Case MOB-001: Verify Mobile Product Catalog**
- **Objective:** Test product catalog on mobile devices
- **Test Steps:**
  1. Open product catalog on mobile device
  2. Verify layout is responsive
  3. Verify product cards display correctly
  4. Verify images load properly
  5. Test touch interactions (tap, swipe)\n- **Expected Results:**
  + Catalog is fully functional on mobile
  + Layout adapts to screen size
- **Priority:** High

**Test Case MOB-002: Verify Mobile Cart and Checkout**
- **Objective:** Test cart and checkout on mobile
- **Test Steps:**
  1. Add products to cart on mobile
  2. View cart page\n  3. Verify cart items display correctly
  4. Proceed to checkout\n  5. Complete checkout flow on mobile
- **Expected Results:**
  + Cart and checkout are fully functional on mobile
  + All features work with touch input
- **Priority:** High\n
**Test Case MOB-003: Verify Mobile Payment**
- **Objective:** Test payment on mobile devices
- **Test Steps:**
  1. Proceed to payment on mobile
  2. Test UPI payment (mobile-optimized)
  3. Test digital wallet payment\n  4. Verify payment forms are mobile-friendly
  5. Complete payment\n- **Expected Results:**
  + Payment methods work seamlessly on mobile
  + Forms are easy to use on small screens
- **Priority:** High

---

### 7.9 Test Execution Schedule

**Phase 1: Core Functionality (Week 1-2)**
- Product Catalog Testing (PC-001 to PC-008)
- Shopping Cart Testing (SC-001 to SC-012)
\n**Phase 2: Checkout and Payment (Week 3-4)**
- Checkout Process Testing (CO-001 to CO-012)
- Payment Gateway Testing (PG-001 to PG-015)

**Phase 3: Integration and Performance (Week 5)**
- Cross-Functional Integration Testing (INT-001 to INT-006)
- Performance and Load Testing (PERF-001 to PERF-003)

**Phase 4: Mobile and Final Validation (Week 6)**
- Mobile and Responsive Testing (MOB-001 to MOB-003)
- Regression testing of all critical test cases
- Bug fixes and retesting\n
---

### 7.10 Test Deliverables

1. **Test Execution Report:** Summary of all test cases executed with pass/fail status
2. **Defect Report:** List of all bugs found with severity, priority, and status
3. **Test Coverage Report:** Percentage of requirements covered by test cases
4. **Performance Test Report:** Load testing results with response times and system metrics
5. **Final Test Summary:** Overall assessment of system readiness for production\n
---

### 7.11 Entry and Exit Criteria

**Entry Criteria:**
- All core e-commerce features are developed and deployed to test environment
- Test environment is stable and accessible
- Test data is prepared\n- Payment gateway test accounts are configured

**Exit Criteria:**
- All critical and high-priority test cases pass
- No critical or high-severity defects remain open
- Performance benchmarks are met
- Mobile responsiveness is validated
- Payment gateway integration is fully functional
- Test coverage is at least 95% for core features

---
\n### 7.12 Defect Management

**Severity Levels:**
- **Critical:** System crash, data loss, payment failure, security vulnerability
- **High:** Major functionality broken, incorrect calculations, checkout failure
- **Medium:** Minor functionality issues, UI inconsistencies, performance degradation
- **Low:** Cosmetic issues, minor UI improvements\n
**Priority Levels:**
- **P1:** Must be fixed before release
- **P2:** Should be fixed before release
- **P3:** Can be fixed in next release
- **P4:** Nice to have, low impact

**Defect Workflow:**
1. Defect identified during testing
2. Defect logged with details, severity, and priority
3. Defect assigned to development team
4. Defect fixed and deployed to test environment
5. Defect retested and verified
6. Defect closed if fix is successful

---
\n## 8. Reference Files
1. Product list with pricing: image.png
2. Product images: Barley Flakes.png, Finger Millet Flakes.png, Barnyard Millet Flakes.png, Greengram Flakes.png, Foxtail Millet Flakes.png